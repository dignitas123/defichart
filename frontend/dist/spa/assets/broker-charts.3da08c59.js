import{aD as $t,aE as Ta,aF as Ea,aG as Ma,aH as Sa,aI as In,aJ as _t,aK as Ln,aL as Na,aM as Oa,aN as Aa,aO as Ia,aP as M,aQ as wt,aR as La,k as it,m as Xe,c as F,h as Z,l as jt,i as nt,q as Fa,t as Pa,g as Xt,aS as Ra,aT as Ha,a2 as ge,a3 as S,a4 as q,aa as Q,ab as H,aU as he,F as Me,r as y,w as O,aV as Ze,a8 as ae,aW as Fn,o as Nt,Q as Pn,ac as Fe,aX as $a,$ as Ba,aY as Ua,z as Ya,d as x,a9 as A,aZ as Rn,ad as j,af as re,a_ as at,ae as et,a$ as Wt,a as Jt,b0 as Wa,G as Be,ai as qa,b1 as Va,b2 as za,y as Dt,s as Bt,b3 as Ga,ag as Qa,ah as Ka,b4 as ja}from"./index.476dfc87.js";import{u as Xa,a as Ja,j as Za,f as ei,w as ti,z as Hn,y as ve,x as me,A as ni,E as ai,D as ii,Q as qt}from"./QTooltip.05624566.js";import{_ as we}from"./plugin-vue_export-helper.21dcd24c.js";function qe(t){if(t===null||t===!0||t===!1)return NaN;var n=Number(t);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}function se(t,n){if(n.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+n.length+" present")}function bt(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bt=function(e){return typeof e}:bt=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(t)}function Te(t){se(1,arguments);var n=Object.prototype.toString.call(t);return t instanceof Date||bt(t)==="object"&&n==="[object Date]"?new Date(t.getTime()):typeof t=="number"||n==="[object Number]"?new Date(t):((typeof t=="string"||n==="[object String]")&&typeof console!="undefined"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ri(t,n){se(2,arguments);var e=Te(t).getTime(),i=qe(n);return new Date(e+i)}var si={};function Ot(){return si}function oi(t){var n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),t.getTime()-n.getTime()}function kt(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kt=function(e){return typeof e}:kt=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kt(t)}function li(t){return se(1,arguments),t instanceof Date||kt(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ui(t){if(se(1,arguments),!li(t)&&typeof t!="number")return!1;var n=Te(t);return!isNaN(Number(n))}function ci(t,n){se(2,arguments);var e=qe(n);return ri(t,-e)}var di=864e5;function fi(t){se(1,arguments);var n=Te(t),e=n.getTime();n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0);var i=n.getTime(),a=e-i;return Math.floor(a/di)+1}function Tt(t){se(1,arguments);var n=1,e=Te(t),i=e.getUTCDay(),a=(i<n?7:0)+i-n;return e.setUTCDate(e.getUTCDate()-a),e.setUTCHours(0,0,0,0),e}function $n(t){se(1,arguments);var n=Te(t),e=n.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(e+1,0,4),i.setUTCHours(0,0,0,0);var a=Tt(i),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var s=Tt(r);return n.getTime()>=a.getTime()?e+1:n.getTime()>=s.getTime()?e:e-1}function hi(t){se(1,arguments);var n=$n(t),e=new Date(0);e.setUTCFullYear(n,0,4),e.setUTCHours(0,0,0,0);var i=Tt(e);return i}var vi=6048e5;function mi(t){se(1,arguments);var n=Te(t),e=Tt(n).getTime()-hi(n).getTime();return Math.round(e/vi)+1}function Et(t,n){var e,i,a,r,s,f,h,b;se(1,arguments);var v=Ot(),o=qe((e=(i=(a=(r=n==null?void 0:n.weekStartsOn)!==null&&r!==void 0?r:n==null||(s=n.locale)===null||s===void 0||(f=s.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&a!==void 0?a:v.weekStartsOn)!==null&&i!==void 0?i:(h=v.locale)===null||h===void 0||(b=h.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&e!==void 0?e:0);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Te(t),l=m.getUTCDay(),u=(l<o?7:0)+l-o;return m.setUTCDate(m.getUTCDate()-u),m.setUTCHours(0,0,0,0),m}function Bn(t,n){var e,i,a,r,s,f,h,b;se(1,arguments);var v=Te(t),o=v.getUTCFullYear(),m=Ot(),l=qe((e=(i=(a=(r=n==null?void 0:n.firstWeekContainsDate)!==null&&r!==void 0?r:n==null||(s=n.locale)===null||s===void 0||(f=s.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&a!==void 0?a:m.firstWeekContainsDate)!==null&&i!==void 0?i:(h=m.locale)===null||h===void 0||(b=h.options)===null||b===void 0?void 0:b.firstWeekContainsDate)!==null&&e!==void 0?e:1);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=new Date(0);u.setUTCFullYear(o+1,0,l),u.setUTCHours(0,0,0,0);var p=Et(u,n),_=new Date(0);_.setUTCFullYear(o,0,l),_.setUTCHours(0,0,0,0);var C=Et(_,n);return v.getTime()>=p.getTime()?o+1:v.getTime()>=C.getTime()?o:o-1}function pi(t,n){var e,i,a,r,s,f,h,b;se(1,arguments);var v=Ot(),o=qe((e=(i=(a=(r=n==null?void 0:n.firstWeekContainsDate)!==null&&r!==void 0?r:n==null||(s=n.locale)===null||s===void 0||(f=s.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&a!==void 0?a:v.firstWeekContainsDate)!==null&&i!==void 0?i:(h=v.locale)===null||h===void 0||(b=h.options)===null||b===void 0?void 0:b.firstWeekContainsDate)!==null&&e!==void 0?e:1),m=Bn(t,n),l=new Date(0);l.setUTCFullYear(m,0,o),l.setUTCHours(0,0,0,0);var u=Et(l,n);return u}var gi=6048e5;function wi(t,n){se(1,arguments);var e=Te(t),i=Et(e,n).getTime()-pi(e,n).getTime();return Math.round(i/gi)+1}function V(t,n){for(var e=t<0?"-":"",i=Math.abs(t).toString();i.length<n;)i="0"+i;return e+i}var yi={y:function(n,e){var i=n.getUTCFullYear(),a=i>0?i:1-i;return V(e==="yy"?a%100:a,e.length)},M:function(n,e){var i=n.getUTCMonth();return e==="M"?String(i+1):V(i+1,2)},d:function(n,e){return V(n.getUTCDate(),e.length)},a:function(n,e){var i=n.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];case"aaaa":default:return i==="am"?"a.m.":"p.m."}},h:function(n,e){return V(n.getUTCHours()%12||12,e.length)},H:function(n,e){return V(n.getUTCHours(),e.length)},m:function(n,e){return V(n.getUTCMinutes(),e.length)},s:function(n,e){return V(n.getUTCSeconds(),e.length)},S:function(n,e){var i=e.length,a=n.getUTCMilliseconds(),r=Math.floor(a*Math.pow(10,i-3));return V(r,e.length)}},Ie=yi,Je={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bi={G:function(n,e,i){var a=n.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return i.era(a,{width:"abbreviated"});case"GGGGG":return i.era(a,{width:"narrow"});case"GGGG":default:return i.era(a,{width:"wide"})}},y:function(n,e,i){if(e==="yo"){var a=n.getUTCFullYear(),r=a>0?a:1-a;return i.ordinalNumber(r,{unit:"year"})}return Ie.y(n,e)},Y:function(n,e,i,a){var r=Bn(n,a),s=r>0?r:1-r;if(e==="YY"){var f=s%100;return V(f,2)}return e==="Yo"?i.ordinalNumber(s,{unit:"year"}):V(s,e.length)},R:function(n,e){var i=$n(n);return V(i,e.length)},u:function(n,e){var i=n.getUTCFullYear();return V(i,e.length)},Q:function(n,e,i){var a=Math.ceil((n.getUTCMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return V(a,2);case"Qo":return i.ordinalNumber(a,{unit:"quarter"});case"QQQ":return i.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(a,{width:"wide",context:"formatting"})}},q:function(n,e,i){var a=Math.ceil((n.getUTCMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return V(a,2);case"qo":return i.ordinalNumber(a,{unit:"quarter"});case"qqq":return i.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(a,{width:"wide",context:"standalone"})}},M:function(n,e,i){var a=n.getUTCMonth();switch(e){case"M":case"MM":return Ie.M(n,e);case"Mo":return i.ordinalNumber(a+1,{unit:"month"});case"MMM":return i.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(a,{width:"wide",context:"formatting"})}},L:function(n,e,i){var a=n.getUTCMonth();switch(e){case"L":return String(a+1);case"LL":return V(a+1,2);case"Lo":return i.ordinalNumber(a+1,{unit:"month"});case"LLL":return i.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(a,{width:"wide",context:"standalone"})}},w:function(n,e,i,a){var r=wi(n,a);return e==="wo"?i.ordinalNumber(r,{unit:"week"}):V(r,e.length)},I:function(n,e,i){var a=mi(n);return e==="Io"?i.ordinalNumber(a,{unit:"week"}):V(a,e.length)},d:function(n,e,i){return e==="do"?i.ordinalNumber(n.getUTCDate(),{unit:"date"}):Ie.d(n,e)},D:function(n,e,i){var a=fi(n);return e==="Do"?i.ordinalNumber(a,{unit:"dayOfYear"}):V(a,e.length)},E:function(n,e,i){var a=n.getUTCDay();switch(e){case"E":case"EE":case"EEE":return i.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(a,{width:"short",context:"formatting"});case"EEEE":default:return i.day(a,{width:"wide",context:"formatting"})}},e:function(n,e,i,a){var r=n.getUTCDay(),s=(r-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return V(s,2);case"eo":return i.ordinalNumber(s,{unit:"day"});case"eee":return i.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(r,{width:"short",context:"formatting"});case"eeee":default:return i.day(r,{width:"wide",context:"formatting"})}},c:function(n,e,i,a){var r=n.getUTCDay(),s=(r-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return V(s,e.length);case"co":return i.ordinalNumber(s,{unit:"day"});case"ccc":return i.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(r,{width:"narrow",context:"standalone"});case"cccccc":return i.day(r,{width:"short",context:"standalone"});case"cccc":default:return i.day(r,{width:"wide",context:"standalone"})}},i:function(n,e,i){var a=n.getUTCDay(),r=a===0?7:a;switch(e){case"i":return String(r);case"ii":return V(r,e.length);case"io":return i.ordinalNumber(r,{unit:"day"});case"iii":return i.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(a,{width:"short",context:"formatting"});case"iiii":default:return i.day(a,{width:"wide",context:"formatting"})}},a:function(n,e,i){var a=n.getUTCHours(),r=a/12>=1?"pm":"am";switch(e){case"a":case"aa":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(n,e,i){var a=n.getUTCHours(),r;switch(a===12?r=Je.noon:a===0?r=Je.midnight:r=a/12>=1?"pm":"am",e){case"b":case"bb":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(n,e,i){var a=n.getUTCHours(),r;switch(a>=17?r=Je.evening:a>=12?r=Je.afternoon:a>=4?r=Je.morning:r=Je.night,e){case"B":case"BB":case"BBB":return i.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(n,e,i){if(e==="ho"){var a=n.getUTCHours()%12;return a===0&&(a=12),i.ordinalNumber(a,{unit:"hour"})}return Ie.h(n,e)},H:function(n,e,i){return e==="Ho"?i.ordinalNumber(n.getUTCHours(),{unit:"hour"}):Ie.H(n,e)},K:function(n,e,i){var a=n.getUTCHours()%12;return e==="Ko"?i.ordinalNumber(a,{unit:"hour"}):V(a,e.length)},k:function(n,e,i){var a=n.getUTCHours();return a===0&&(a=24),e==="ko"?i.ordinalNumber(a,{unit:"hour"}):V(a,e.length)},m:function(n,e,i){return e==="mo"?i.ordinalNumber(n.getUTCMinutes(),{unit:"minute"}):Ie.m(n,e)},s:function(n,e,i){return e==="so"?i.ordinalNumber(n.getUTCSeconds(),{unit:"second"}):Ie.s(n,e)},S:function(n,e){return Ie.S(n,e)},X:function(n,e,i,a){var r=a._originalDate||n,s=r.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return yn(s);case"XXXX":case"XX":return $e(s);case"XXXXX":case"XXX":default:return $e(s,":")}},x:function(n,e,i,a){var r=a._originalDate||n,s=r.getTimezoneOffset();switch(e){case"x":return yn(s);case"xxxx":case"xx":return $e(s);case"xxxxx":case"xxx":default:return $e(s,":")}},O:function(n,e,i,a){var r=a._originalDate||n,s=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+wn(s,":");case"OOOO":default:return"GMT"+$e(s,":")}},z:function(n,e,i,a){var r=a._originalDate||n,s=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+wn(s,":");case"zzzz":default:return"GMT"+$e(s,":")}},t:function(n,e,i,a){var r=a._originalDate||n,s=Math.floor(r.getTime()/1e3);return V(s,e.length)},T:function(n,e,i,a){var r=a._originalDate||n,s=r.getTime();return V(s,e.length)}};function wn(t,n){var e=t>0?"-":"+",i=Math.abs(t),a=Math.floor(i/60),r=i%60;if(r===0)return e+String(a);var s=n||"";return e+String(a)+s+V(r,2)}function yn(t,n){if(t%60===0){var e=t>0?"-":"+";return e+V(Math.abs(t)/60,2)}return $e(t,n)}function $e(t,n){var e=n||"",i=t>0?"-":"+",a=Math.abs(t),r=V(Math.floor(a/60),2),s=V(a%60,2);return i+r+e+s}var ki=bi,bn=function(n,e){switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Un=function(n,e){switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},xi=function(n,e){var i=n.match(/(P+)(p+)?/)||[],a=i[1],r=i[2];if(!r)return bn(n,e);var s;switch(a){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",bn(a,e)).replace("{{time}}",Un(r,e))},Ci={p:Un,P:xi},_i=Ci,Di=["D","DD"],Ti=["YY","YYYY"];function Ei(t){return Di.indexOf(t)!==-1}function Mi(t){return Ti.indexOf(t)!==-1}function kn(t,n,e){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(n,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(n,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(n,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(n,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Si={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ni={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Oi={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ai={date:$t({formats:Si,defaultWidth:"full"}),time:$t({formats:Ni,defaultWidth:"full"}),dateTime:$t({formats:Oi,defaultWidth:"full"})},Ii=Ai,Li={code:"en-US",formatDistance:Ta,formatLong:Ii,formatRelative:Ea,localize:Ma,match:Sa,options:{weekStartsOn:0,firstWeekContainsDate:1}},Fi=Li,Pi=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ri=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Hi=/^'([^]*?)'?$/,$i=/''/g,Bi=/[a-zA-Z]/;function xn(t,n,e){var i,a,r,s,f,h,b,v,o,m,l,u,p,_,C,k,N,g;se(2,arguments);var E=String(n),L=Ot(),U=(i=(a=e==null?void 0:e.locale)!==null&&a!==void 0?a:L.locale)!==null&&i!==void 0?i:Fi,Y=qe((r=(s=(f=(h=e==null?void 0:e.firstWeekContainsDate)!==null&&h!==void 0?h:e==null||(b=e.locale)===null||b===void 0||(v=b.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&f!==void 0?f:L.firstWeekContainsDate)!==null&&s!==void 0?s:(o=L.locale)===null||o===void 0||(m=o.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(Y>=1&&Y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var G=qe((l=(u=(p=(_=e==null?void 0:e.weekStartsOn)!==null&&_!==void 0?_:e==null||(C=e.locale)===null||C===void 0||(k=C.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&p!==void 0?p:L.weekStartsOn)!==null&&u!==void 0?u:(N=L.locale)===null||N===void 0||(g=N.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&l!==void 0?l:0);if(!(G>=0&&G<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!U.localize)throw new RangeError("locale must contain localize property");if(!U.formatLong)throw new RangeError("locale must contain formatLong property");var R=Te(t);if(!ui(R))throw new RangeError("Invalid time value");var le=oi(R),W=ci(R,le),z={firstWeekContainsDate:Y,weekStartsOn:G,locale:U,_originalDate:R},T=E.match(Ri).map(function($){var P=$[0];if(P==="p"||P==="P"){var oe=_i[P];return oe($,U.formatLong)}return $}).join("").match(Pi).map(function($){if($==="''")return"'";var P=$[0];if(P==="'")return Ui($);var oe=ki[P];if(oe)return!(e!=null&&e.useAdditionalWeekYearTokens)&&Mi($)&&kn($,n,String(t)),!(e!=null&&e.useAdditionalDayOfYearTokens)&&Ei($)&&kn($,n,String(t)),oe(W,$,U.localize,z);if(P.match(Bi))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return $}).join("");return T}function Ui(t){var n=t.match(Hi);return n?n[1].replace($i,"'"):t}function Yi(t){return typeof t=="object"&&t!==null}function Wi(t,n){if(!Boolean(t))throw new Error(n!=null?n:"Unexpected invariant triggered.")}const qi=/\r\n|[\n\r]/g;function Vt(t,n){let e=0,i=1;for(const a of t.body.matchAll(qi)){if(typeof a.index=="number"||Wi(!1),a.index>=n)break;e=a.index+a[0].length,i+=1}return{line:i,column:n+1-e}}function Vi(t){return Yn(t.source,Vt(t.source,t.start))}function Yn(t,n){const e=t.locationOffset.column-1,i="".padStart(e)+t.body,a=n.line-1,r=t.locationOffset.line-1,s=n.line+r,f=n.line===1?e:0,h=n.column+f,b=`${t.name}:${s}:${h}
`,v=i.split(/\r\n|[\n\r]/g),o=v[a];if(o.length>120){const m=Math.floor(h/80),l=h%80,u=[];for(let p=0;p<o.length;p+=80)u.push(o.slice(p,p+80));return b+Cn([[`${s} |`,u[0]],...u.slice(1,m+1).map(p=>["|",p]),["|","^".padStart(l)],["|",u[m+1]]])}return b+Cn([[`${s-1} |`,v[a-1]],[`${s} |`,o],["|","^".padStart(h)],[`${s+1} |`,v[a+1]]])}function Cn(t){const n=t.filter(([i,a])=>a!==void 0),e=Math.max(...n.map(([i])=>i.length));return n.map(([i,a])=>i.padStart(e)+(a?" "+a:"")).join(`
`)}function zi(t){const n=t[0];return n==null||"kind"in n||"length"in n?{nodes:n,source:t[1],positions:t[2],path:t[3],originalError:t[4],extensions:t[5]}:n}class Zt extends Error{constructor(n,...e){var i,a,r;const{nodes:s,source:f,positions:h,path:b,originalError:v,extensions:o}=zi(e);super(n),this.name="GraphQLError",this.path=b!=null?b:void 0,this.originalError=v!=null?v:void 0,this.nodes=_n(Array.isArray(s)?s:s?[s]:void 0);const m=_n((i=this.nodes)===null||i===void 0?void 0:i.map(u=>u.loc).filter(u=>u!=null));this.source=f!=null?f:m==null||(a=m[0])===null||a===void 0?void 0:a.source,this.positions=h!=null?h:m==null?void 0:m.map(u=>u.start),this.locations=h&&f?h.map(u=>Vt(f,u)):m==null?void 0:m.map(u=>Vt(u.source,u.start));const l=Yi(v==null?void 0:v.extensions)?v==null?void 0:v.extensions:void 0;this.extensions=(r=o!=null?o:l)!==null&&r!==void 0?r:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),v!=null&&v.stack?Object.defineProperty(this,"stack",{value:v.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Zt):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let n=this.message;if(this.nodes)for(const e of this.nodes)e.loc&&(n+=`

`+Vi(e.loc));else if(this.source&&this.locations)for(const e of this.locations)n+=`

`+Yn(this.source,e);return n}toJSON(){const n={message:this.message};return this.locations!=null&&(n.locations=this.locations),this.path!=null&&(n.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(n.extensions=this.extensions),n}}function _n(t){return t===void 0||t.length===0?void 0:t}function ee(t,n,e){return new Zt(`Syntax Error: ${e}`,{source:t,positions:[n]})}var zt;(function(t){t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(zt||(zt={}));var d;(function(t){t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment"})(d||(d={}));class Gi{constructor(n){const e=new In(d.SOF,0,0,0,0);this.source=n,this.lastToken=e,this.token=e,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let n=this.token;if(n.kind!==d.EOF)do if(n.next)n=n.next;else{const e=Ki(this,n.end);n.next=e,e.prev=n,n=e}while(n.kind===d.COMMENT);return n}}function Qi(t){return t===d.BANG||t===d.DOLLAR||t===d.AMP||t===d.PAREN_L||t===d.PAREN_R||t===d.SPREAD||t===d.COLON||t===d.EQUALS||t===d.AT||t===d.BRACKET_L||t===d.BRACKET_R||t===d.BRACE_L||t===d.PIPE||t===d.BRACE_R}function rt(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function At(t,n){return Wn(t.charCodeAt(n))&&qn(t.charCodeAt(n+1))}function Wn(t){return t>=55296&&t<=56319}function qn(t){return t>=56320&&t<=57343}function Ve(t,n){const e=t.source.body.codePointAt(n);if(e===void 0)return d.EOF;if(e>=32&&e<=126){const i=String.fromCodePoint(e);return i==='"'?`'"'`:`"${i}"`}return"U+"+e.toString(16).toUpperCase().padStart(4,"0")}function J(t,n,e,i,a){const r=t.line,s=1+e-t.lineStart;return new In(n,e,i,r,s,a)}function Ki(t,n){const e=t.source.body,i=e.length;let a=n;for(;a<i;){const r=e.charCodeAt(a);switch(r){case 65279:case 9:case 32:case 44:++a;continue;case 10:++a,++t.line,t.lineStart=a;continue;case 13:e.charCodeAt(a+1)===10?a+=2:++a,++t.line,t.lineStart=a;continue;case 35:return ji(t,a);case 33:return J(t,d.BANG,a,a+1);case 36:return J(t,d.DOLLAR,a,a+1);case 38:return J(t,d.AMP,a,a+1);case 40:return J(t,d.PAREN_L,a,a+1);case 41:return J(t,d.PAREN_R,a,a+1);case 46:if(e.charCodeAt(a+1)===46&&e.charCodeAt(a+2)===46)return J(t,d.SPREAD,a,a+3);break;case 58:return J(t,d.COLON,a,a+1);case 61:return J(t,d.EQUALS,a,a+1);case 64:return J(t,d.AT,a,a+1);case 91:return J(t,d.BRACKET_L,a,a+1);case 93:return J(t,d.BRACKET_R,a,a+1);case 123:return J(t,d.BRACE_L,a,a+1);case 124:return J(t,d.PIPE,a,a+1);case 125:return J(t,d.BRACE_R,a,a+1);case 34:return e.charCodeAt(a+1)===34&&e.charCodeAt(a+2)===34?nr(t,a):Ji(t,a)}if(_t(r)||r===45)return Xi(t,a,r);if(Ln(r))return ar(t,a);throw ee(t.source,a,r===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:rt(r)||At(e,a)?`Unexpected character: ${Ve(t,a)}.`:`Invalid character: ${Ve(t,a)}.`)}return J(t,d.EOF,i,i)}function ji(t,n){const e=t.source.body,i=e.length;let a=n+1;for(;a<i;){const r=e.charCodeAt(a);if(r===10||r===13)break;if(rt(r))++a;else if(At(e,a))a+=2;else break}return J(t,d.COMMENT,n,a,e.slice(n+1,a))}function Xi(t,n,e){const i=t.source.body;let a=n,r=e,s=!1;if(r===45&&(r=i.charCodeAt(++a)),r===48){if(r=i.charCodeAt(++a),_t(r))throw ee(t.source,a,`Invalid number, unexpected digit after 0: ${Ve(t,a)}.`)}else a=Ut(t,a,r),r=i.charCodeAt(a);if(r===46&&(s=!0,r=i.charCodeAt(++a),a=Ut(t,a,r),r=i.charCodeAt(a)),(r===69||r===101)&&(s=!0,r=i.charCodeAt(++a),(r===43||r===45)&&(r=i.charCodeAt(++a)),a=Ut(t,a,r),r=i.charCodeAt(a)),r===46||Ln(r))throw ee(t.source,a,`Invalid number, expected digit but got: ${Ve(t,a)}.`);return J(t,s?d.FLOAT:d.INT,n,a,i.slice(n,a))}function Ut(t,n,e){if(!_t(e))throw ee(t.source,n,`Invalid number, expected digit but got: ${Ve(t,n)}.`);const i=t.source.body;let a=n+1;for(;_t(i.charCodeAt(a));)++a;return a}function Ji(t,n){const e=t.source.body,i=e.length;let a=n+1,r=a,s="";for(;a<i;){const f=e.charCodeAt(a);if(f===34)return s+=e.slice(r,a),J(t,d.STRING,n,a+1,s);if(f===92){s+=e.slice(r,a);const h=e.charCodeAt(a+1)===117?e.charCodeAt(a+2)===123?Zi(t,a):er(t,a):tr(t,a);s+=h.value,a+=h.size,r=a;continue}if(f===10||f===13)break;if(rt(f))++a;else if(At(e,a))a+=2;else throw ee(t.source,a,`Invalid character within String: ${Ve(t,a)}.`)}throw ee(t.source,a,"Unterminated string.")}function Zi(t,n){const e=t.source.body;let i=0,a=3;for(;a<12;){const r=e.charCodeAt(n+a++);if(r===125){if(a<5||!rt(i))break;return{value:String.fromCodePoint(i),size:a}}if(i=i<<4|ut(r),i<0)break}throw ee(t.source,n,`Invalid Unicode escape sequence: "${e.slice(n,n+a)}".`)}function er(t,n){const e=t.source.body,i=Dn(e,n+2);if(rt(i))return{value:String.fromCodePoint(i),size:6};if(Wn(i)&&e.charCodeAt(n+6)===92&&e.charCodeAt(n+7)===117){const a=Dn(e,n+8);if(qn(a))return{value:String.fromCodePoint(i,a),size:12}}throw ee(t.source,n,`Invalid Unicode escape sequence: "${e.slice(n,n+6)}".`)}function Dn(t,n){return ut(t.charCodeAt(n))<<12|ut(t.charCodeAt(n+1))<<8|ut(t.charCodeAt(n+2))<<4|ut(t.charCodeAt(n+3))}function ut(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function tr(t,n){const e=t.source.body;switch(e.charCodeAt(n+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw ee(t.source,n,`Invalid character escape sequence: "${e.slice(n,n+2)}".`)}function nr(t,n){const e=t.source.body,i=e.length;let a=t.lineStart,r=n+3,s=r,f="";const h=[];for(;r<i;){const b=e.charCodeAt(r);if(b===34&&e.charCodeAt(r+1)===34&&e.charCodeAt(r+2)===34){f+=e.slice(s,r),h.push(f);const v=J(t,d.BLOCK_STRING,n,r+3,Na(h).join(`
`));return t.line+=h.length-1,t.lineStart=a,v}if(b===92&&e.charCodeAt(r+1)===34&&e.charCodeAt(r+2)===34&&e.charCodeAt(r+3)===34){f+=e.slice(s,r),s=r+1,r+=4;continue}if(b===10||b===13){f+=e.slice(s,r),h.push(f),b===13&&e.charCodeAt(r+1)===10?r+=2:++r,f="",s=r,a=r;continue}if(rt(b))++r;else if(At(e,r))r+=2;else throw ee(t.source,r,`Invalid character within String: ${Ve(t,r)}.`)}throw ee(t.source,r,"Unterminated string.")}function ar(t,n){const e=t.source.body,i=e.length;let a=n+1;for(;a<i;){const r=e.charCodeAt(a);if(Oa(r))++a;else break}return J(t,d.NAME,n,a,e.slice(n,a))}function ir(t,n){return new rr(t,n).parseDocument()}class rr{constructor(n,e={}){const i=Aa(n)?n:new Ia(n);this._lexer=new Gi(i),this._options=e,this._tokenCounter=0}parseName(){const n=this.expectToken(d.NAME);return this.node(n,{kind:M.NAME,value:n.value})}parseDocument(){return this.node(this._lexer.token,{kind:M.DOCUMENT,definitions:this.many(d.SOF,this.parseDefinition,d.EOF)})}parseDefinition(){if(this.peek(d.BRACE_L))return this.parseOperationDefinition();const n=this.peekDescription(),e=n?this._lexer.lookahead():this._lexer.token;if(e.kind===d.NAME){switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(n)throw ee(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(e.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(e)}parseOperationDefinition(){const n=this._lexer.token;if(this.peek(d.BRACE_L))return this.node(n,{kind:M.OPERATION_DEFINITION,operation:wt.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const e=this.parseOperationType();let i;return this.peek(d.NAME)&&(i=this.parseName()),this.node(n,{kind:M.OPERATION_DEFINITION,operation:e,name:i,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const n=this.expectToken(d.NAME);switch(n.value){case"query":return wt.QUERY;case"mutation":return wt.MUTATION;case"subscription":return wt.SUBSCRIPTION}throw this.unexpected(n)}parseVariableDefinitions(){return this.optionalMany(d.PAREN_L,this.parseVariableDefinition,d.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:M.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(d.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(d.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const n=this._lexer.token;return this.expectToken(d.DOLLAR),this.node(n,{kind:M.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:M.SELECTION_SET,selections:this.many(d.BRACE_L,this.parseSelection,d.BRACE_R)})}parseSelection(){return this.peek(d.SPREAD)?this.parseFragment():this.parseField()}parseField(){const n=this._lexer.token,e=this.parseName();let i,a;return this.expectOptionalToken(d.COLON)?(i=e,a=this.parseName()):a=e,this.node(n,{kind:M.FIELD,alias:i,name:a,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(d.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(n){const e=n?this.parseConstArgument:this.parseArgument;return this.optionalMany(d.PAREN_L,e,d.PAREN_R)}parseArgument(n=!1){const e=this._lexer.token,i=this.parseName();return this.expectToken(d.COLON),this.node(e,{kind:M.ARGUMENT,name:i,value:this.parseValueLiteral(n)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const n=this._lexer.token;this.expectToken(d.SPREAD);const e=this.expectOptionalKeyword("on");return!e&&this.peek(d.NAME)?this.node(n,{kind:M.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(n,{kind:M.INLINE_FRAGMENT,typeCondition:e?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const n=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(n,{kind:M.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(n,{kind:M.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(n){const e=this._lexer.token;switch(e.kind){case d.BRACKET_L:return this.parseList(n);case d.BRACE_L:return this.parseObject(n);case d.INT:return this.advanceLexer(),this.node(e,{kind:M.INT,value:e.value});case d.FLOAT:return this.advanceLexer(),this.node(e,{kind:M.FLOAT,value:e.value});case d.STRING:case d.BLOCK_STRING:return this.parseStringLiteral();case d.NAME:switch(this.advanceLexer(),e.value){case"true":return this.node(e,{kind:M.BOOLEAN,value:!0});case"false":return this.node(e,{kind:M.BOOLEAN,value:!1});case"null":return this.node(e,{kind:M.NULL});default:return this.node(e,{kind:M.ENUM,value:e.value})}case d.DOLLAR:if(n)if(this.expectToken(d.DOLLAR),this._lexer.token.kind===d.NAME){const i=this._lexer.token.value;throw ee(this._lexer.source,e.start,`Unexpected variable "$${i}" in constant value.`)}else throw this.unexpected(e);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const n=this._lexer.token;return this.advanceLexer(),this.node(n,{kind:M.STRING,value:n.value,block:n.kind===d.BLOCK_STRING})}parseList(n){const e=()=>this.parseValueLiteral(n);return this.node(this._lexer.token,{kind:M.LIST,values:this.any(d.BRACKET_L,e,d.BRACKET_R)})}parseObject(n){const e=()=>this.parseObjectField(n);return this.node(this._lexer.token,{kind:M.OBJECT,fields:this.any(d.BRACE_L,e,d.BRACE_R)})}parseObjectField(n){const e=this._lexer.token,i=this.parseName();return this.expectToken(d.COLON),this.node(e,{kind:M.OBJECT_FIELD,name:i,value:this.parseValueLiteral(n)})}parseDirectives(n){const e=[];for(;this.peek(d.AT);)e.push(this.parseDirective(n));return e}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(n){const e=this._lexer.token;return this.expectToken(d.AT),this.node(e,{kind:M.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(n)})}parseTypeReference(){const n=this._lexer.token;let e;if(this.expectOptionalToken(d.BRACKET_L)){const i=this.parseTypeReference();this.expectToken(d.BRACKET_R),e=this.node(n,{kind:M.LIST_TYPE,type:i})}else e=this.parseNamedType();return this.expectOptionalToken(d.BANG)?this.node(n,{kind:M.NON_NULL_TYPE,type:e}):e}parseNamedType(){return this.node(this._lexer.token,{kind:M.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(d.STRING)||this.peek(d.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const n=this._lexer.token,e=this.parseDescription();this.expectKeyword("schema");const i=this.parseConstDirectives(),a=this.many(d.BRACE_L,this.parseOperationTypeDefinition,d.BRACE_R);return this.node(n,{kind:M.SCHEMA_DEFINITION,description:e,directives:i,operationTypes:a})}parseOperationTypeDefinition(){const n=this._lexer.token,e=this.parseOperationType();this.expectToken(d.COLON);const i=this.parseNamedType();return this.node(n,{kind:M.OPERATION_TYPE_DEFINITION,operation:e,type:i})}parseScalarTypeDefinition(){const n=this._lexer.token,e=this.parseDescription();this.expectKeyword("scalar");const i=this.parseName(),a=this.parseConstDirectives();return this.node(n,{kind:M.SCALAR_TYPE_DEFINITION,description:e,name:i,directives:a})}parseObjectTypeDefinition(){const n=this._lexer.token,e=this.parseDescription();this.expectKeyword("type");const i=this.parseName(),a=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(n,{kind:M.OBJECT_TYPE_DEFINITION,description:e,name:i,interfaces:a,directives:r,fields:s})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(d.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(d.BRACE_L,this.parseFieldDefinition,d.BRACE_R)}parseFieldDefinition(){const n=this._lexer.token,e=this.parseDescription(),i=this.parseName(),a=this.parseArgumentDefs();this.expectToken(d.COLON);const r=this.parseTypeReference(),s=this.parseConstDirectives();return this.node(n,{kind:M.FIELD_DEFINITION,description:e,name:i,arguments:a,type:r,directives:s})}parseArgumentDefs(){return this.optionalMany(d.PAREN_L,this.parseInputValueDef,d.PAREN_R)}parseInputValueDef(){const n=this._lexer.token,e=this.parseDescription(),i=this.parseName();this.expectToken(d.COLON);const a=this.parseTypeReference();let r;this.expectOptionalToken(d.EQUALS)&&(r=this.parseConstValueLiteral());const s=this.parseConstDirectives();return this.node(n,{kind:M.INPUT_VALUE_DEFINITION,description:e,name:i,type:a,defaultValue:r,directives:s})}parseInterfaceTypeDefinition(){const n=this._lexer.token,e=this.parseDescription();this.expectKeyword("interface");const i=this.parseName(),a=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(n,{kind:M.INTERFACE_TYPE_DEFINITION,description:e,name:i,interfaces:a,directives:r,fields:s})}parseUnionTypeDefinition(){const n=this._lexer.token,e=this.parseDescription();this.expectKeyword("union");const i=this.parseName(),a=this.parseConstDirectives(),r=this.parseUnionMemberTypes();return this.node(n,{kind:M.UNION_TYPE_DEFINITION,description:e,name:i,directives:a,types:r})}parseUnionMemberTypes(){return this.expectOptionalToken(d.EQUALS)?this.delimitedMany(d.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const n=this._lexer.token,e=this.parseDescription();this.expectKeyword("enum");const i=this.parseName(),a=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();return this.node(n,{kind:M.ENUM_TYPE_DEFINITION,description:e,name:i,directives:a,values:r})}parseEnumValuesDefinition(){return this.optionalMany(d.BRACE_L,this.parseEnumValueDefinition,d.BRACE_R)}parseEnumValueDefinition(){const n=this._lexer.token,e=this.parseDescription(),i=this.parseEnumValueName(),a=this.parseConstDirectives();return this.node(n,{kind:M.ENUM_VALUE_DEFINITION,description:e,name:i,directives:a})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw ee(this._lexer.source,this._lexer.token.start,`${yt(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const n=this._lexer.token,e=this.parseDescription();this.expectKeyword("input");const i=this.parseName(),a=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();return this.node(n,{kind:M.INPUT_OBJECT_TYPE_DEFINITION,description:e,name:i,directives:a,fields:r})}parseInputFieldsDefinition(){return this.optionalMany(d.BRACE_L,this.parseInputValueDef,d.BRACE_R)}parseTypeSystemExtension(){const n=this._lexer.lookahead();if(n.kind===d.NAME)switch(n.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(n)}parseSchemaExtension(){const n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const e=this.parseConstDirectives(),i=this.optionalMany(d.BRACE_L,this.parseOperationTypeDefinition,d.BRACE_R);if(e.length===0&&i.length===0)throw this.unexpected();return this.node(n,{kind:M.SCHEMA_EXTENSION,directives:e,operationTypes:i})}parseScalarTypeExtension(){const n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const e=this.parseName(),i=this.parseConstDirectives();if(i.length===0)throw this.unexpected();return this.node(n,{kind:M.SCALAR_TYPE_EXTENSION,name:e,directives:i})}parseObjectTypeExtension(){const n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const e=this.parseName(),i=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),r=this.parseFieldsDefinition();if(i.length===0&&a.length===0&&r.length===0)throw this.unexpected();return this.node(n,{kind:M.OBJECT_TYPE_EXTENSION,name:e,interfaces:i,directives:a,fields:r})}parseInterfaceTypeExtension(){const n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const e=this.parseName(),i=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),r=this.parseFieldsDefinition();if(i.length===0&&a.length===0&&r.length===0)throw this.unexpected();return this.node(n,{kind:M.INTERFACE_TYPE_EXTENSION,name:e,interfaces:i,directives:a,fields:r})}parseUnionTypeExtension(){const n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const e=this.parseName(),i=this.parseConstDirectives(),a=this.parseUnionMemberTypes();if(i.length===0&&a.length===0)throw this.unexpected();return this.node(n,{kind:M.UNION_TYPE_EXTENSION,name:e,directives:i,types:a})}parseEnumTypeExtension(){const n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const e=this.parseName(),i=this.parseConstDirectives(),a=this.parseEnumValuesDefinition();if(i.length===0&&a.length===0)throw this.unexpected();return this.node(n,{kind:M.ENUM_TYPE_EXTENSION,name:e,directives:i,values:a})}parseInputObjectTypeExtension(){const n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const e=this.parseName(),i=this.parseConstDirectives(),a=this.parseInputFieldsDefinition();if(i.length===0&&a.length===0)throw this.unexpected();return this.node(n,{kind:M.INPUT_OBJECT_TYPE_EXTENSION,name:e,directives:i,fields:a})}parseDirectiveDefinition(){const n=this._lexer.token,e=this.parseDescription();this.expectKeyword("directive"),this.expectToken(d.AT);const i=this.parseName(),a=this.parseArgumentDefs(),r=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const s=this.parseDirectiveLocations();return this.node(n,{kind:M.DIRECTIVE_DEFINITION,description:e,name:i,arguments:a,repeatable:r,locations:s})}parseDirectiveLocations(){return this.delimitedMany(d.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const n=this._lexer.token,e=this.parseName();if(Object.prototype.hasOwnProperty.call(zt,e.value))return e;throw this.unexpected(n)}node(n,e){return this._options.noLocation!==!0&&(e.loc=new La(n,this._lexer.lastToken,this._lexer.source)),e}peek(n){return this._lexer.token.kind===n}expectToken(n){const e=this._lexer.token;if(e.kind===n)return this.advanceLexer(),e;throw ee(this._lexer.source,e.start,`Expected ${Vn(n)}, found ${yt(e)}.`)}expectOptionalToken(n){return this._lexer.token.kind===n?(this.advanceLexer(),!0):!1}expectKeyword(n){const e=this._lexer.token;if(e.kind===d.NAME&&e.value===n)this.advanceLexer();else throw ee(this._lexer.source,e.start,`Expected "${n}", found ${yt(e)}.`)}expectOptionalKeyword(n){const e=this._lexer.token;return e.kind===d.NAME&&e.value===n?(this.advanceLexer(),!0):!1}unexpected(n){const e=n!=null?n:this._lexer.token;return ee(this._lexer.source,e.start,`Unexpected ${yt(e)}.`)}any(n,e,i){this.expectToken(n);const a=[];for(;!this.expectOptionalToken(i);)a.push(e.call(this));return a}optionalMany(n,e,i){if(this.expectOptionalToken(n)){const a=[];do a.push(e.call(this));while(!this.expectOptionalToken(i));return a}return[]}many(n,e,i){this.expectToken(n);const a=[];do a.push(e.call(this));while(!this.expectOptionalToken(i));return a}delimitedMany(n,e){this.expectOptionalToken(n);const i=[];do i.push(e.call(this));while(this.expectOptionalToken(n));return i}advanceLexer(){const{maxTokens:n}=this._options,e=this._lexer.advance();if(n!==void 0&&e.kind!==d.EOF&&(++this._tokenCounter,this._tokenCounter>n))throw ee(this._lexer.source,e.start,`Document contains more that ${n} tokens. Parsing aborted.`)}}function yt(t){const n=t.value;return Vn(t.kind)+(n!=null?` "${n}"`:"")}function Vn(t){return Qi(t)?`"${t}"`:t}var Mt=function(){return Mt=Object.assign||function(n){for(var e,i=1,a=arguments.length;i<a;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Mt.apply(this,arguments)},xt=new Map,Gt=new Map,zn=!0,St=!1;function Gn(t){return t.replace(/[\s,]+/g," ").trim()}function sr(t){return Gn(t.source.body.substring(t.start,t.end))}function or(t){var n=new Set,e=[];return t.definitions.forEach(function(i){if(i.kind==="FragmentDefinition"){var a=i.name.value,r=sr(i.loc),s=Gt.get(a);s&&!s.has(r)?zn&&console.warn("Warning: fragment with name "+a+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):s||Gt.set(a,s=new Set),s.add(r),n.has(r)||(n.add(r),e.push(i))}else e.push(i)}),Mt(Mt({},t),{definitions:e})}function lr(t){var n=new Set(t.definitions);n.forEach(function(i){i.loc&&delete i.loc,Object.keys(i).forEach(function(a){var r=i[a];r&&typeof r=="object"&&n.add(r)})});var e=t.loc;return e&&(delete e.startToken,delete e.endToken),t}function ur(t){var n=Gn(t);if(!xt.has(n)){var e=ir(t,{experimentalFragmentVariables:St,allowLegacyFragmentVariables:St});if(!e||e.kind!=="Document")throw new Error("Not a valid GraphQL document.");xt.set(n,lr(or(e)))}return xt.get(n)}function ze(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];typeof t=="string"&&(t=[t]);var i=t[0];return n.forEach(function(a,r){a&&a.kind==="Document"?i+=a.loc.source.body:i+=a,i+=t[r+1]}),ur(i)}function cr(){xt.clear(),Gt.clear()}function dr(){zn=!1}function fr(){St=!0}function hr(){St=!1}var lt={gql:ze,resetCaches:cr,disableFragmentWarnings:dr,enableExperimentalFragmentVariables:fr,disableExperimentalFragmentVariables:hr};(function(t){t.gql=lt.gql,t.resetCaches=lt.resetCaches,t.disableFragmentWarnings=lt.disableFragmentWarnings,t.enableExperimentalFragmentVariables=lt.enableExperimentalFragmentVariables,t.disableExperimentalFragmentVariables=lt.disableExperimentalFragmentVariables})(ze||(ze={}));ze.default=ze;var vr=it({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(t,{slots:n}){const{proxy:{$q:e}}=Xt(),i=nt(Fa,Xe);if(i===Xe)return console.error("QPage needs to be a deep child of QLayout"),Xe;if(nt(Pa,Xe)===Xe)return console.error("QPage needs to be child of QPageContainer"),Xe;const r=F(()=>{const f=(i.header.space===!0?i.header.size:0)+(i.footer.space===!0?i.footer.size:0);if(typeof t.styleFn=="function"){const h=i.isContainer.value===!0?i.containerHeight.value:e.screen.height;return t.styleFn(f,h)}return{minHeight:i.isContainer.value===!0?i.containerHeight.value-f+"px":e.screen.height===0?f!==0?`calc(100vh - ${f}px)`:"100vh":e.screen.height-f+"px"}}),s=F(()=>`q-page${t.padding===!0?" q-layout-padding":""}`);return()=>Z("main",{class:s.value,style:r.value},jt(n.default))}});const mr=[Z("g",{transform:"translate(20 50)"},[Z("rect",{x:"-10",y:"-30",width:" 20",height:"60",fill:"currentColor",opacity:"0.6"},[Z("animateTransform",{attributeName:"transform",type:"scale",from:"2",to:"1",begin:"0s",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keySplines:"0.1 0.9 0.4 1",keyTimes:"0;1",values:"2;1"})])]),Z("g",{transform:"translate(50 50)"},[Z("rect",{x:"-10",y:"-30",width:" 20",height:"60",fill:"currentColor",opacity:"0.8"},[Z("animateTransform",{attributeName:"transform",type:"scale",from:"2",to:"1",begin:"0.1s",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keySplines:"0.1 0.9 0.4 1",keyTimes:"0;1",values:"2;1"})])]),Z("g",{transform:"translate(80 50)"},[Z("rect",{x:"-10",y:"-30",width:" 20",height:"60",fill:"currentColor",opacity:"0.9"},[Z("animateTransform",{attributeName:"transform",type:"scale",from:"2",to:"1",begin:"0.2s",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keySplines:"0.1 0.9 0.4 1",keyTimes:"0;1",values:"2;1"})])])];var pr=it({name:"QSpinnerFacebook",props:Ra,setup(t){const{cSize:n,classes:e}=Ha(t);return()=>Z("svg",{class:e.value,width:n.value,height:n.value,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},mr)}});const De=.1,Tn=.06,Qt=80,Ct=32,En=4,tt=1,gr="green",wr="red",Qn=!1,Kn="black",yr=["M5","M10","M15","M20","M30"],en="D1",tn="1year",br=8,Ye=200,ie=1e3*60,Se=ie*60,pe=Se*24,We=pe*7,_e=pe*30,Pe=_e*12,kr=["x","y","width","height"],xr=["x","y","width","height"],Cr=["x","y","width","height","stroke"],_r=ge({__name:"candle-stick",props:{candle:null,candleWidth:null},setup(t){return(n,e)=>(S(),q(Me,null,[Q("g",null,[Q("rect",{x:t.candle.wX,y:t.candle.uwY,width:H(tt),height:t.candle.uwHeight,style:he(`fill: ${t.candle.wickFillColor}`),"shape-rendering":"crispEdges"},null,12,kr),Q("rect",{x:t.candle.wX,y:t.candle.lwY,width:H(tt),height:t.candle.lwHeight,style:he(`fill: ${t.candle.wickFillColor}`),"shape-rendering":"crispEdges"},null,12,xr)]),Q("g",null,[Q("rect",{x:t.candle.x,y:t.candle.y,width:t.candleWidth,height:t.candle.height,style:he(`fill: ${t.candle.fillColor}`),stroke:H(Qn)&&t.candle.height!==1?H(Kn):"","shape-rendering":"crispEdges"},null,12,Cr)])],64))}});var D=(t=>(t[t.M1=0]="M1",t[t.M5=1]="M5",t[t.M10=2]="M10",t[t.M15=3]="M15",t[t.M30=4]="M30",t[t.H1=5]="H1",t[t.H3=6]="H3",t[t.H6=7]="H6",t[t.H12=8]="H12",t[t.D1=9]="D1",t[t.W1=10]="W1",t[t.W2=11]="W2",t[t.MN1=12]="MN1",t[t.MN6=13]="MN6",t[t.Y1=14]="Y1",t[t.Y2=15]="Y2",t[t.Y3=16]="Y3",t))(D||{}),ne=(t=>(t[t.Minute=0]="Minute",t[t.Hour=1]="Hour",t[t.Day=2]="Day",t[t.Month=3]="Month",t[t.Year=4]="Year",t))(ne||{});function Dr(t,n,e,i,a){const r=F(()=>a.value.charAt(0));function s(v){if(!a.value)return;const o=new Date(v);switch(a.value){case"M1":return new Date(o.setMinutes(o.getMinutes()-1));case"M5":return new Date(o.setMinutes(o.getMinutes()-5));case"H1":return new Date(o.setHours(o.getHours()-1));case"D1":return new Date(o.setDate(o.getDate()-1));case"W1":return new Date(o.setDate(o.getDate()-7))}}function f(v,o,m){var N;if(!e.value)return;let l="",u=!1;const p=v.getMinutes(),_=v.getHours(),C=v.getDate(),k=v.getMonth();if(e.value.period===ne.Minute)p%e.value.minuteTimeDifferential===0&&(l="HH:mm",p===0&&_===0?(l="dd.MM",u=!0,C===1&&(l="MMM",k===0&&(l="YYY"))):e.value.mode===D.M1?p%10===0?u=!0:p%5!==0&&(l=""):e.value.mode===D.M5?a.value==="M5"?p===0?u=!0:p%15!==0&&(l=""):p%15===0&&(u=!0):e.value.mode===D.M10&&p%30===0?p%30===0&&(u=!0):e.value.mode===D.M30&&p===30&&(l=""));else if(e.value.period===ne.Hour){let g=!1,E=!1;if(o){const L=o.getMonth();L===11&&k===0?g=!0:L<k&&(E=!0)}r.value==="M"?E?(u=!0,l="MMM"):g?(u=!0,l="YYY"):_===0&&p===0?(u=!0,l="dd.MM"):e.value.mode===D.H6?_%6===0&&p===0&&(l="HH:mm"):e.value.mode===D.H12?_%12===0&&p===0&&(l="HH:mm"):_%2===0&&p===0&&(l="HH:mm",_%4===0&&(u=!0)):r.value==="D"?l="dd.MM":E?(u=!0,l="MMM"):g?(u=!0,l="YYY"):_===0?l="dd.MM":p%60===0&&(e.value.mode===D.H1&&_%4===0||e.value.mode===D.H3&&_%6===0?l="HH:mm":e.value.mode===D.H6?(C%2===0&&_===0&&(u=!0),_%12===0&&(l="HH:mm")):e.value.mode===D.H12&&(C%4===0&&_===0&&(u=!0),_%12===0&&(l="HH:mm")))}else if(e.value.period>=ne.Day){let g=!1,E=!1,L=!1;if(o){const U=o.getMonth();U===11&&k===0?g=!0:U<k?E=!0:o.getDate()<15&&C>=15&&(L=!0)}e.value.period===ne.Day?r.value==="D"?e.value.mode===D.W1||e.value.mode===D.D1?g?(u=!0,l="YYY"):E?(u=!0,l="MMM"):C%5===0&&C!==30&&(l="d"):e.value.mode===D.W2&&(g?(u=!0,l="YYY"):E?(u=!0,l="MMM"):L&&(l="d")):r.value==="W"?["W2","W3","W4"].includes(a.value)?(E&&k===6&&(l="MMM"),g&&(l="YYY")):E?l="MMM":g&&(u=!0,l="YYY"):(E?(u=!0,l="MMM"):g&&(u=!0,l="YYY"),e.value.mode===D.W1?_===0&&C%4===0&&(l="dd.MM"):e.value.mode===D.W2?L&&(l="dd.MM"):_===0&&(!E||g)&&(l="dd.MM")):e.value.period===ne.Month?g?(a.value.includes("W")?v.getFullYear()%10===0&&(u=!0):u=!0,l="YYY"):E&&(a.value.includes("D")?l="MMM":a.value.includes("W")?a.value==="W1"&&k===6&&(l="MMM"):[3,6,9].includes(k)&&(l="MMM")):e.value.period===ne.Year&&(g&&(l="YYY",v.getFullYear()%5===0&&(u=!0)),e.value.mode===D.Y3&&(["W2","W3","W4"].includes(a.value)?g&&(l="YYY"):E&&[3,6,9].includes(k)&&(l="MMM")),e.value.mode===D.Y2&&(a.value.includes("D")?E&&k%2===0&&(l="MMM"):(!a.value.includes("W")&&k===6&&E||E&&k===6&&!["W3","W4"].includes(a.value))&&(l="MMM")))}(N=i.value)==null||N.entries.push({x:m,date:v,dateFormat:l,bold:u})}function h(v){let o=D.Y3,m=ne.Year,l=5;if(!t||!n.value)return{mode:o,period:m,minuteTimeDifferential:l};const p=(n.value[n.value.length-1].getTime()-n.value[0].getTime())*(Qt/v);return p<3*ie?(o=D.M1,l=1):p<6*ie?(o=D.M5,l=5):p<10*ie?(o=D.M10,l=15):p<16*ie?(o=D.M15,l=20):p<30*ie?(o=D.M30,l=30):p<66*ie?o=D.H1:p<160*ie?o=D.H3:p<6*Se?o=D.H6:p<12*Se?o=D.H12:p<1.25*pe?o=D.D1:p<4.8*pe?o=D.W1:p<13*pe?o=D.W2:p<4.9*We?o=D.MN1:p<2*_e?o=D.MN6:p<.18*Pe?o=D.Y1:p<.5*Pe?o=D.Y2:o=D.Y3,[D.M1,D.M5,D.M10,D.M15,D.M30].includes(o)?m=ne.Minute:[D.H1,D.H3,D.H6,D.H12].includes(o)?m=ne.Hour:[D.D1,D.W1,D.W2].includes(o)?m=ne.Day:[D.MN1,D.MN6].includes(o)&&(m=ne.Month),{mode:o,period:m,minuteTimeDifferential:l}}const b=F(()=>{const v="HH:mm";return e.value?r.value==="D"||r.value==="W"?"MMM d EEE, YYY":e.value.period===ne.Minute||e.value.period===ne.Hour?"HH:mm":e.value.period===ne.Day?"MMM d EEE, HH:mm":v:v});return{timeDisplayProperties:h,addDateToDatePositionEntries:f,standardDateFormat:b,getFirstPreviousDateFromTimeFrame:s}}const Tr=["width","height"],Er=["y1","x2","y2","stroke"],Mr=["x1","x2","y2","stroke"],Sr=["width","height"],Nr=ge({__name:"candlestick-chart",props:{data:null,dates:null,candleCount:null,h2l:null,high:null,low:null,height:null,width:null,priceLines:{default:()=>[]},dateLines:{default:()=>[]},timeFrame:null,datePosition:null,startingDistanceDifference:{default:0},candleWidth:null,candleDistance:null,offset:null,chartUpdateKey:{default:0}},emits:["update:datePosition","update:candleWidth","update:candleDistance"],setup(t,{emit:n}){const e=t,i=y(e.datePosition),a=y(e.candleWidth),r=y(e.candleDistance),s=y(e.timeFrame),f=y(e.dates);O(()=>e.dates,()=>{!e.dates||(f.value=e.dates)}),O(()=>e.timeFrame,()=>{s.value=e.timeFrame}),O(i,()=>{n("update:datePosition",i.value)}),O(a,()=>{n("update:candleWidth",a.value)}),O(r,()=>{n("update:candleDistance",r.value)});const h=y([]);function b(g){return g>80?20+0:g>40?5+0:g>20?4+0:g>16?3+0:g>6.6?2+0:g>3.8?1+0:g>2.5?0+0:0}const v=y(0),o=y(0),m=y(),l=y(void 0);function u(){if(!e.width||!e.height||!e.dates||!e.data)return;h.value=[],l.value=N(e.data[0].d);const g=e.width/e.candleCount;r.value=b(g),a.value=g-r.value-r.value/e.candleCount;const E=e.candleCount-e.dates.length,L=(a.value+r.value)*(e.candleCount-E);m.value=_(L),o.value=(e.startingDistanceDifference>0?e.startingDistanceDifference:0)*(a.value+r.value)+r.value,i.value&&(i.value.entries=[],i.value.standardDateFormat=k.value),e.data.forEach(Y=>{const G=p(o.value,Y);G&&h.value.push(G),C(Y.d,l.value,o.value+a.value/2),v.value=o.value,o.value+=a.value+r.value,l.value=Y.d});const U=Math.max(...h.value.map(Y=>Y.y));h.value.forEach((Y,G)=>{Y.y>=U-2&&Y.height===1&&(h.value[G].y-=2)})}function p(g,E,L=gr,U=wr,Y=Qn,G=Kn){if(!e.h2l||!e.high||!e.low||!e.height||!e.width)return;const R={};R.x=g;const le=g+a.value/2,W=tt/2,z=le-W;R.wX=z;const T=Ge=>!e.height||!e.high||!e.h2l?0:e.height*((e.high-Ge)/e.h2l),$=T(E.c),P=T(E.l),oe=T(E.h),te=T(E.o);return R.height=Math.abs($-te),R.uwY=oe,te>$?(R.fillColor=L,R.wickFillColor=Y?G:L,R.y=$,R.uwHeight=$-oe,R.lwY=te,R.lwHeight=P-te):(R.fillColor=U,R.wickFillColor=Y?G:U,R.y=te,R.uwHeight=te-oe,R.lwY=$,R.lwHeight=P-$),te===$&&(R.height=1,R.fillColor=G),R}const{timeDisplayProperties:_,addDateToDatePositionEntries:C,standardDateFormat:k,getFirstPreviousDateFromTimeFrame:N}=Dr(e.width,f,m,i,s);return O([()=>e.candleCount,()=>e.width,()=>e.height,()=>e.offset,()=>e.high,()=>e.low,()=>e.chartUpdateKey],()=>{u()}),(g,E)=>(S(),q(Me,null,[(S(),q("svg",{width:t.width,height:t.height,class:"d-block absolute"},[(S(!0),q(Me,null,Ze(t.priceLines,(L,U)=>(S(),q("line",{key:U,x1:0,y1:L,x2:t.width,y2:L,stroke:`rgb(0, 0, 0, ${H(Tn)})`},null,8,Er))),128)),(S(!0),q(Me,null,Ze(t.dateLines,(L,U)=>(S(),q("line",{key:U,x1:L,y1:0,x2:L,y2:t.height,stroke:`rgb(0, 0, 0, ${H(Tn)})`},null,8,Mr))),128))],8,Tr)),(S(),q("svg",{width:t.width,height:t.height,class:"d-block absolute"},[(S(!0),q(Me,null,Ze(h.value,(L,U)=>(S(),ae(_r,{key:U,candle:L,candleWidth:a.value},null,8,["candle","candleWidth"]))),128))],8,Sr))],64))}}),Or={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},Yt={xs:2,sm:4,md:8,lg:16,xl:24};var Le=it({name:"QSeparator",props:{...Xa,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(t){const n=Xt(),e=Ja(t,n.proxy.$q),i=F(()=>t.vertical===!0?"vertical":"horizontal"),a=F(()=>` q-separator--${i.value}`),r=F(()=>t.inset!==!1?`${a.value}-${Or[t.inset]}`:""),s=F(()=>`q-separator${a.value}${r.value}`+(t.color!==void 0?` bg-${t.color}`:"")+(e.value===!0?" q-separator--dark":"")),f=F(()=>{const h={};if(t.size!==void 0&&(h[t.vertical===!0?"width":"height"]=t.size),t.spaced!==!1){const b=t.spaced===!0?`${Yt.md}px`:t.spaced in Yt?`${Yt[t.spaced]}px`:t.spaced,v=t.vertical===!0?["Left","Right"]:["Top","Bottom"];h[`margin${v[0]}`]=h[`margin${v[1]}`]=b}return h});return()=>Z("hr",{class:s.value,style:f.value,"aria-orientation":i.value})}}),Ar=it({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(t,{slots:n}){const e=F(()=>{const i=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(a=>t[a]===!0).map(a=>`q-btn-group--${a}`).join(" ");return`q-btn-group row no-wrap${i.length>0?" "+i:""}`+(t.spread===!0?" q-btn-group--spread":" inline")});return()=>Z("div",{class:e.value},jt(n.default))}});const Ir=Object.keys(Fn),Lr=t=>Ir.reduce((n,e)=>{const i=t[e];return i!==void 0&&(n[e]=i),n},{});var jn=it({name:"QBtnDropdown",props:{...Fn,...Za,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(t,{slots:n,emit:e}){const{proxy:i}=Xt(),a=y(t.modelValue),r=y(null),s=ei(),f=F(()=>{const g={"aria-expanded":a.value===!0?"true":"false","aria-haspopup":"true","aria-controls":s,"aria-label":t.toggleAriaLabel||i.$q.lang.label[a.value===!0?"collapse":"expand"](t.label)};return(t.disable===!0||t.split===!1&&t.disableMainBtn===!0||t.disableDropdown===!0)&&(g["aria-disabled"]="true"),g}),h=F(()=>"q-btn-dropdown__arrow"+(a.value===!0&&t.noIconAnimation===!1?" rotate-180":"")+(t.split===!1?" q-btn-dropdown__arrow-container":"")),b=F(()=>$a(t)),v=F(()=>Lr(t));O(()=>t.modelValue,g=>{r.value!==null&&r.value[g?"show":"hide"]()}),O(()=>t.split,N);function o(g){a.value=!0,e("beforeShow",g)}function m(g){e("show",g),e("update:modelValue",!0)}function l(g){a.value=!1,e("beforeHide",g)}function u(g){e("hide",g),e("update:modelValue",!1)}function p(g){e("click",g)}function _(g){Ba(g),N(),e("click",g)}function C(g){r.value!==null&&r.value.toggle(g)}function k(g){r.value!==null&&r.value.show(g)}function N(g){r.value!==null&&r.value.hide(g)}return Object.assign(i,{show:k,hide:N,toggle:C}),Nt(()=>{t.modelValue===!0&&k()}),()=>{const g=[Z(Pn,{class:h.value,name:t.dropdownIcon||i.$q.iconSet.arrow.dropdown})];return t.disableDropdown!==!0&&g.push(Z(ti,{ref:r,id:s,class:t.contentClass,style:t.contentStyle,cover:t.cover,fit:!0,persistent:t.persistent,noRouteDismiss:t.noRouteDismiss,autoClose:t.autoClose,anchor:t.menuAnchor,self:t.menuSelf,offset:t.menuOffset,separateClosePopup:!0,transitionShow:t.transitionShow,transitionHide:t.transitionHide,transitionDuration:t.transitionDuration,onBeforeShow:o,onShow:m,onBeforeHide:l,onHide:u},n.default)),t.split===!1?Z(Fe,{class:"q-btn-dropdown q-btn-dropdown--simple",...v.value,...f.value,disable:t.disable===!0||t.disableMainBtn===!0,noWrap:!0,round:!1,onClick:p},{default:()=>jt(n.label,[]).concat(g),loading:n.loading}):Z(Ar,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:t.rounded,square:t.square,...b.value,glossy:t.glossy,stretch:t.stretch},()=>[Z(Fe,{class:"q-btn-dropdown--current",...v.value,disable:t.disable===!0||t.disableMainBtn===!0,noWrap:!0,round:!1,onClick:_},{default:n.label,loading:n.loading}),Z(Fe,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...f.value,...b.value,disable:t.disable===!0||t.disableDropdown===!0,rounded:t.rounded,color:t.color,textColor:t.textColor,dense:t.dense,size:t.size,padding:t.padding,ripple:t.ripple},()=>g)])}}});function Xn(){return nt(Ua)}const Fr=["top","middle","bottom"];var Pr=it({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:t=>Fr.includes(t)}},setup(t,{slots:n}){const e=F(()=>t.align!==void 0?{verticalAlign:t.align}:null),i=F(()=>{const a=t.outline===!0&&t.color||t.textColor;return`q-badge flex inline items-center no-wrap q-badge--${t.multiLine===!0?"multi":"single"}-line`+(t.outline===!0?" q-badge--outline":t.color!==void 0?` bg-${t.color}`:"")+(a!==void 0?` text-${a}`:"")+(t.floating===!0?" q-badge--floating":"")+(t.rounded===!0?" q-badge--rounded":"")+(t.transparent===!0?" q-badge--transparent":"")});return()=>Z("div",{class:i.value,style:e.value,role:"status","aria-label":t.label},Ya(n.default,t.label!==void 0?[t.label]:[]))}});const Rr={class:"info-badge-wrapper"},Hr=ge({__name:"info-badge",props:{outline:{type:Boolean,default:!0},transparent:{type:Boolean,default:!0},color:{default:"primary"}},setup(t){return(n,e)=>(S(),q("div",Rr,[x(Pr,{transparent:t.transparent,outline:t.outline,color:t.color,class:"info-badge"},{default:A(()=>[Rn(n.$slots,"default",{},void 0,!0)]),_:3},8,["transparent","outline","color"])]))}});var Ue=we(Hr,[["__scopeId","data-v-77a76095"]]);const Kt={M1:ie,M5:ie*5,H1:Se,D1:pe,W1:We},$r=["M1","M5","H1","D1","W1"];const Br=ge({__name:"time-frame-dropdown",props:{timeFrame:null},emits:["timeFrameChanged"],setup(t,{emit:n}){const e=t,i=Xn(),a=y(en),r=F(()=>i.platform.is.mobile?"M2..":"Custom"),s=y(!0),f=y(!1),h=y(""),b=y(r.value),v=nt("timeFrameSetByUser"),o=y(!1);O(()=>e.timeFrame,()=>{a.value=e.timeFrame,o.value&&u(),o.value=!0}),O(v,()=>{l.value=!0,setTimeout(()=>{l.value=!1},400),a.value=v.value});const m=y(!1),l=y(!1);function u(){m.value=!0,setTimeout(()=>{m.value=!1},400)}function p(C){setTimeout(()=>{l.value=!0,setTimeout(()=>{l.value=!1},400),Object.keys(Kt).includes(C)?(n("timeFrameChanged",C),a.value=C):i.notify({message:`The Input <b>'${C}'</b> is not a valid timeframe. Available timeframes are <i>${$r.join(", ")}</i>. <br />More timeframes are a work in progress.`,actions:[{icon:"close",color:"white"}],html:!0,timeout:7e3}),s.value=!1,setTimeout(()=>{f.value=!1,s.value=!0},500),f.value=!1,_()},300)}function _(){b.value=r.value,h.value="",o.value=!1,f.value=!1}return Nt(()=>{n("timeFrameChanged",a.value)}),(C,k)=>(S(),ae(jn,{modelValue:f.value,"onUpdate:modelValue":k[5]||(k[5]=N=>f.value=N),dense:"",flat:"",menuAnchor:"bottom left",menuSelf:"top left",square:"",size:"sm",ripple:!1,color:"primary",label:a.value,onHide:_,bordered:"",class:at(["time-frame-dropdown-button header-button q-px-xs",{blink:m.value&&!l.value}])},{default:A(()=>[s.value?(S(),ae(Hn,{key:0,dense:""},{default:A(()=>[x(ve,{active:a.value==="M1","active-class":"selected-item",clickable:"",onClick:k[0]||(k[0]=N=>{p("M1"),a.value="M1"})},{default:A(()=>[x(me,null,{default:A(()=>[j("M1")]),_:1}),H(i).platform.is.mobile?re("",!0):(S(),ae(Ue,{key:0,class:"q-ml-xs",color:a.value==="M1"?"white":"primary"},{default:A(()=>[j("\u21E71")]),_:1},8,["color"]))]),_:1},8,["active"]),x(ve,{active:a.value==="M5","active-class":"selected-item",clickable:"",onClick:k[1]||(k[1]=N=>{p("M5"),a.value="M5"})},{default:A(()=>[x(me,null,{default:A(()=>[j("M5")]),_:1}),H(i).platform.is.mobile?re("",!0):(S(),ae(Ue,{key:0,class:"q-ml-xs",color:a.value==="M5"?"white":"primary"},{default:A(()=>[j("\u21E72")]),_:1},8,["color"]))]),_:1},8,["active"]),x(Le),x(ve,{active:a.value==="H1","active-class":"selected-item",clickable:"",onClick:k[2]||(k[2]=N=>{p("H1"),a.value="H1"})},{default:A(()=>[x(me,null,{default:A(()=>[j("H1")]),_:1}),H(i).platform.is.mobile?re("",!0):(S(),ae(Ue,{key:0,class:"q-ml-xs",color:a.value==="H1"?"white":"primary"},{default:A(()=>[j("\u21E73")]),_:1},8,["color"]))]),_:1},8,["active"]),x(Le),x(ve,{active:a.value==="D1","active-class":"selected-item",clickable:"",onClick:k[3]||(k[3]=N=>{p("D1"),a.value="D1"})},{default:A(()=>[x(me,null,{default:A(()=>[j("D1")]),_:1}),H(i).platform.is.mobile?re("",!0):(S(),ae(Ue,{key:0,class:"q-ml-xs",color:a.value==="D1"?"white":"primary"},{default:A(()=>[j("\u21E74")]),_:1},8,["color"]))]),_:1},8,["active"]),x(Le),x(ve,{active:a.value==="W1","active-class":"selected-item",clickable:"",onClick:k[4]||(k[4]=N=>{p("W1"),a.value="W1"})},{default:A(()=>[x(me,null,{default:A(()=>[j("W1")]),_:1}),H(i).platform.is.mobile?re("",!0):(S(),ae(Ue,{key:0,class:"q-ml-xs",color:a.value==="W1"?"white":"primary"},{default:A(()=>[j("\u21E75")]),_:1},8,["color"]))]),_:1},8,["active"])]),_:1})):re("",!0)]),_:1},8,["modelValue","label","class"]))}});var Ur=we(Br,[["__scopeId","data-v-7a1cf42a"]]);const Yr={};function Wr(t,n){return S(),ae(ni,{class:"info-tooltip",delay:1e3,anchor:"bottom start",self:"top left",style:{display:"inline-flex","align-items":"center"}},{default:A(()=>[Rn(t.$slots,"default")]),_:3})}var Mn=we(Yr,[["render",Wr]]);const qr={"1minute":ie,"1hour":Se,"1day":pe,"1week":We,"1month":_e,"1quarter":_e*3,"1year":Pe,"5year":Pe*5},Sn={singular:"year",plural:"years"},Nn={"1minute":{singular:"minute",plural:"minutes"},"1hour":{singular:"hour",plural:"hours"},"1day":{singular:"day",plural:"days"},"1week":{singular:"week",plural:"weeks"},"1month":{singular:"month",plural:"months"},"1quarter":{singular:"quarter",plural:"quarters"},"1year":Sn,"5year":Sn};const Vr=ge({__name:"lookback-dropdown",emits:["lookBackPeriodChanged"],setup(t,{emit:n}){const e=y(tn),i=y(1),a=F(()=>{const l=i.value===1?Nn[e.value].singular:Nn[e.value].plural;return i.value+" "+l}),r=y(!0),s=y(!1),f=nt("lookbackNumber"),h=nt("lookbackPeriodString");O(f,()=>{i.value=f.value}),O(h,()=>{m(),f.value===5?e.value="5year":e.value=h.value});function b(l){n("lookBackPeriodChanged",l),e.value=l,r.value=!1,setTimeout(()=>{s.value=!1,r.value=!0},500),s.value=!1}const v=y(!1),o=y(!1);function m(){v.value=!0,setTimeout(()=>{v.value=!1},400)}return(l,u)=>(S(),ae(jn,{modelValue:s.value,"onUpdate:modelValue":u[6]||(u[6]=p=>s.value=p),bordered:"",menuAnchor:"bottom left",menuSelf:"top left","no-caps":"",dense:"",flat:"",square:"",size:"sm",ripple:!1,color:"primary",label:H(a),class:at(["lookback-dropdown-button header-button q-px-xs",{blink:v.value&&!o.value}])},{default:A(()=>[r.value?(S(),ae(Hn,{key:0,dense:""},{default:A(()=>[x(ve,{active:e.value==="1day","active-class":"selected-item",clickable:"",onClick:u[0]||(u[0]=p=>b("1day"))},{default:A(()=>[x(me,null,{default:A(()=>[j("1 day")]),_:1})]),_:1},8,["active"]),x(Le),x(ve,{active:e.value==="1week","active-class":"selected-item",clickable:"",onClick:u[1]||(u[1]=p=>b("1week"))},{default:A(()=>[x(me,null,{default:A(()=>[j("1 week")]),_:1})]),_:1},8,["active"]),x(Le),x(ve,{active:e.value==="1month","active-class":"selected-item",clickable:"",onClick:u[2]||(u[2]=p=>b("1month"))},{default:A(()=>[x(me,null,{default:A(()=>[j("1 month")]),_:1})]),_:1},8,["active"]),x(Le),x(ve,{active:e.value==="1quarter","active-class":"selected-item",clickable:"",onClick:u[3]||(u[3]=p=>b("1quarter"))},{default:A(()=>[x(me,null,{default:A(()=>[j("1 quarter")]),_:1})]),_:1},8,["active"]),x(Le),x(ve,{active:e.value==="1year","active-class":"selected-item",clickable:"",onClick:u[4]||(u[4]=p=>b("1year"))},{default:A(()=>[x(me,null,{default:A(()=>[j("1 year")]),_:1})]),_:1},8,["active"]),x(Le),x(ve,{active:e.value==="5year","active-class":"selected-item",clickable:"",onClick:u[5]||(u[5]=p=>b("5year"))},{default:A(()=>[x(me,null,{default:A(()=>[j("5 years")]),_:1})]),_:1},8,["active"])]),_:1})):re("",!0)]),_:1},8,["modelValue","label","class"]))}});var zr=we(Vr,[["__scopeId","data-v-2736ef57"]]);const Gr={class:"header-bar"},Qr={class:"q-mx-xs",style:{"margin-left":"4px"}},Kr={class:"q-mr-xs"},jr=ge({__name:"header-bar",props:{timeFrame:null,symbolName:null},emits:["maximize","close","zoomIn","zoomOut","setTimeFrame","setLookbackPeriod"],setup(t,{emit:n}){function e(a){n("setTimeFrame",a)}function i(a){n("setLookbackPeriod",a)}return(a,r)=>(S(),q("div",Gr,[x(ii,{dark:"",dense:""},{default:A(()=>[x(Pn,{name:"img:icons/coins/btc.svg"}),Q("div",Qr,et(t.symbolName),1),x(Ur,{timeFrame:t.timeFrame,onTimeFrameChanged:e},null,8,["timeFrame"]),x(zr,{onLookBackPeriodChanged:i}),x(ai),x(Fe,{dense:"",flat:"",square:"",class:"header-button items-center",icon:"zoom_out",size:"sm",ripple:!1,onClick:r[0]||(r[0]=s=>a.$emit("zoomOut"))},{default:A(()=>[x(Mn,null,{default:A(()=>[j("Zoom out"),x(Ue,{class:"q-ml-xs",color:"white"},{default:A(()=>[j("x")]),_:1})]),_:1})]),_:1}),Q("span",Kr,[x(Fe,{dense:"",flat:"",square:"",class:"header-button items-center",icon:"zoom_in",size:"sm",ripple:!1,onClick:r[1]||(r[1]=s=>a.$emit("zoomIn"))},{default:A(()=>[x(Mn,null,{default:A(()=>[j("Zoom in"),x(Ue,{class:"q-ml-xs",color:"white"},{default:A(()=>[j("c")]),_:1})]),_:1})]),_:1})]),x(Fe,{dense:"",flat:"",square:"",class:"header-button",icon:"crop_square",ripple:!1,onClick:r[2]||(r[2]=s=>a.$emit("close"))}),x(Fe,{dense:"",flat:"",square:"",class:"header-button",icon:"crop_free",ripple:!1,onClick:r[3]||(r[3]=s=>a.$emit("maximize"))})]),_:1})]))}});var Xr=we(jr,[["__scopeId","data-v-6ef2041a"]]);function Jr(t,n=0){return t.toFixed(n)}function Jn(t,n="."){const e=t.toString().split(n)[1];return e?e.length:0}function Zr(t,n=.1,e="round"){const i=Jn(n);let a;const r=t/n;switch(e){case"round":a=Math.round(r)*n;break;case"ceil":a=Math.ceil(r)*n;break;case"floor":a=Math.floor(r)*n;break}return Number(Jr(a,i))}function ct(t,n=.1){return Zr(t,n)}const es=ge({__name:"price-axis",props:{currentCandleClose:null,h2l:null,high:null,low:null,height:null,crossHairY:null,badgeShow:{type:Boolean}},emits:["horizontalLine"],setup(t,{emit:n}){const e=t,i=50,a=y(),r=y(),s=Jn(De),f=F(()=>{var g;const k=(g=a.value)==null?void 0:g.offsetHeight;if(!e.height||!k||!e.crossHairY)return 0;const N=e.crossHairY+k/2;return N<k?k:N>e.height?e.height:N+1}),h=y(!1),b=y(!1),v=F(()=>{var k;return(k=r.value)==null?void 0:k.offsetHeight}),o=y(0),m=F(()=>!e.crossHairY||!e.h2l||!e.height||!e.high?0:ct(e.high-e.crossHairY*(e.h2l/e.height),De).toFixed(s));Wt(()=>{if(e.height&&e.h2l&&e.low&&v.value&&e.currentCandleClose){const N=(1-(e.currentCandleClose-e.low)/e.h2l)*e.height+v.value/2;if(N<v.value){o.value=v.value,h.value=!0;return}else h.value&&(h.value=!1);if(N>e.height){o.value=e.height,b.value=!0;return}else b.value&&(b.value=!1);o.value=N+1}});function l(k){const N=Math.round(Math.log10(Math.abs(k))),g=Math.pow(10,N);return k<=g*.5?g*.5:k<=g*1.5?g:k<=g*2.5?g*2:k<=g*3.5?g*3:k<=g*4.5?g*4:g*5}let u=0,p=[],_=0;Wt(()=>{if(!e.height||!e.low||!e.high||!e.h2l)return;_=0,p=[];const k=e.h2l/De,N=e.height/k,g=l(e.h2l/(e.height/i));u=g*N/De;const E=e.high-e.high%g;_=(e.high-E)*(N/De)-u/2;for(let L=E;L>e.low;L-=g)p.push(L.toFixed(s));C()});function C(){if(u){let k=u/2+_;if(p&&u)for(let N=0;N<p.length;N++)n("horizontalLine",k),k+=u}}return Jt(()=>{u=0,p=[],_=0}),(k,N)=>(S(),q("div",{class:"prevent-select q-mr-xs q-ml-sm",style:he(`height: ${e.height}px; margin-top: ${H(_)}px`)},[(S(!0),q(Me,null,Ze(H(p),(g,E)=>(S(),q("div",{class:"price items-center",key:E,style:he(`height: ${H(u)}px`)},[Q("span",null,et(String(g)),1)],4))),128)),t.badgeShow&&t.crossHairY?(S(),q("span",{key:0,class:"crosshair-badge text-center absolute prevent-select",style:he(`top: ${H(f)}px`),ref_key:"crosshairBadgeRef",ref:a},et(H(m)),5)):re("",!0),t.currentCandleClose?(S(),q("span",{key:1,class:at(["current-price-badge text-center absolute prevent-select",{"arrow-top-32":h.value,"arrow-top-68":b.value}]),style:he(`top: ${o.value}px`),ref_key:"priceHairBadgeRef",ref:r},et(t.currentCandleClose.toFixed(H(s))),7)):re("",!0)],4))}});var ts=we(es,[["__scopeId","data-v-7ac2612c"]]);const ns={},as={class:"row justify-around"};function is(t,n){return S(),q("div",as)}var rs=we(ns,[["render",is]]);const ss=ge({__name:"date-axis",props:{width:null,datePosition:null,selectedCandleIndex:null,candleWidth:null,candleDistance:null,candlesShow:null,offset:null,badgeShow:{type:Boolean}},emits:["verticalLines"],setup(t,{emit:n}){const e=t,i=y(0);function a(l){i.value=l.width}const r=Wa();function s(l,u){return xn(l,u,{locale:r.language})}const f=F(()=>{var l;if(!!((l=e.datePosition)!=null&&l.entries.length))return e.candlesShow-e.datePosition.entries.length}),h=F(()=>{var l;return f.value&&e.datePosition?e.datePosition.entries[e.selectedCandleIndex-f.value]:(l=e.datePosition)==null?void 0:l.entries[e.selectedCandleIndex]}),b=F(()=>{if(!(!h.value||!e.datePosition))return s(h.value.date,e.datePosition.standardDateFormat)});function v(l){return l-Qt/2}const o=F(()=>{if(!h.value||!e.width||f.value===void 0)return;let l=i.value/2;return h.value.x<l?0:h.value.x+l>e.width?e.width-i.value:h.value.x-l}),m=F(()=>{var l;return(l=e.datePosition)==null?void 0:l.entries.filter(u=>u.dateFormat)});return O([()=>e.width,()=>e.candlesShow,()=>e.offset,()=>e.datePosition],async()=>{!m.value||(await Be(),n("verticalLines",m.value.map(l=>v(l.x)+Qt/2)))},{deep:!0}),(l,u)=>(S(),q(Me,null,[(S(!0),q(Me,null,Ze(H(m),(p,_)=>(S(),q("span",{class:at(["date-axis-text text-center absolute prevent-select",{"text-weight-bold":p.bold}]),key:_,style:he(`left: ${v(p.x)}px`)},et(H(xn)(p.date,p.dateFormat)),7))),128)),t.badgeShow?(S(),q("span",{key:0,class:"crosshair-badge text-center absolute prevent-select",style:he(`left: ${H(o)}px`)},[j(et(H(b))+" ",1),x(qt,{debounce:0,onResize:a})],4)):re("",!0)],64))}});var os=we(ss,[["__scopeId","data-v-11336974"]]);function Zn(){const t=Xn(),n=F(()=>t.screen.height-Ct-En*2),e=F(()=>t.screen.width-En*2);return{maxChartHeight:n,maxChartWidth:e}}function ls(t,n,e,i,a,r){function s(C=1){n.value-C>1?n.value-=C:n.value=1}function f(C=1){n.value+=C}const h=y();O(r,()=>{if(!t.value)return;const C=t.value.length;let k=C-n.value+e.value;k<0&&(k=0),h.value=t.value.slice(k,C+e.value)}),Wt(()=>{if(!t.value)return;const C=t.value.length;let k=C-n.value+e.value;k<0&&(k=0),h.value=t.value.slice(k,C+e.value)});const b=F(()=>t.value?n.value-t.value.length-e.value:void 0),v=F(()=>{if(!(!h.value||!h.value.length))return h.value.map(C=>C.d)}),o=F(()=>{if(!!h.value)return Math.max(...h.value.map(C=>Number(C.h)))}),m=F(()=>{if(!!h.value)return Math.min(...h.value.map(C=>Number(C.l)))}),l=F(()=>{if(!(!o.value||!m.value))return o.value-m.value}),u=y(0),p=y(0);O(h,()=>{!o.value||!m.value||!l.value||(u.value=ct(o.value+l.value*i.value,De),p.value=ct(m.value-l.value*a.value,De))}),O(i,()=>{!o.value||!l.value||(u.value=ct(o.value+l.value*i.value,De))}),O(a,()=>{!m.value||!l.value||(p.value=ct(m.value-l.value*a.value,De))});const _=F(()=>{if(!(!u.value||!p.value))return u.value-p.value});return{candlesInChartData:h,chartHigh:u,chartLow:p,chartH2L:_,decreaseCandlesShow:s,increaseCandlesShow:f,dataDatesCandlesInChart:v,startingDistanceDifference:b}}const us={key:0},cs=ge({__name:"cross-hair",props:{x:null,y:null},setup(t){return(n,e)=>t.x&&t.y?(S(),q("div",us,[Q("div",{class:"crosshair-x",style:he(`top: ${t.y}px;`)},null,4),Q("div",{class:"crosshair-y",style:he(`left: ${t.x}px`)},null,4)])):re("",!0)}});var ds=we(cs,[["__scopeId","data-v-5aea9094"]]);function On(t,n){let e=0,i=Math.abs(t-n[0]);for(let a=1;a<n.length;a++){const r=Math.abs(t-n[a]);r<i&&(i=r,e=a)}return e}const An=ze`
  query getTimeFrame(
    $symbol: String!
    $timeFrame: TimeFrame!
    $binAmount: Int!
    $startShift: Int
  ) {
    timeFrameRecords(
      symbol: $symbol
      timeFrame: $timeFrame
      binAmount: $binAmount
      startShift: $startShift
    ) {
      timestamp
      open
      high
      low
      close
      volume
    }
  }
`;function fs(t){switch(t){case"M1":return ie;case"M5":return ie*5;case"H1":return Se;case"D1":return pe;case"W1":return We}}function hs(t,n,e){const i=qa();O(()=>i.formattedTime,()=>{var r;if(!t.value)return;let a=!1;switch(n.value){case"M1":i.time.getSeconds()%60===0&&(a=!0);break;case"M5":i.time.getSeconds()%60===0&&i.time.getMinutes()%5===0&&(a=!0);break;case"H1":i.time.getSeconds()%60===0&&i.time.getMinutes()===0&&(a=!0);case"D1":i.time.getSeconds()%60===0&&i.time.getMinutes()===0&&i.time.getHours()===0&&(a=!0);break;case"W1":const s={...t.value.slice(-1)[0]},f=new Date(s.d);f.setDate(f.getDate()+7),s.d=f,i.time.getSeconds()%60===0&&i.time.getMinutes()===0&&i.time.getHours()===0&&i.time===f&&(a=!0);break}if(a){const s=t.value[t.value.length-1];(r=t.value)==null||r.push({o:s.c,h:s.c,l:s.c,c:s.c,v:0,d:new Date}),e.value++}})}function vs(t,n,e){function i(a,r=0,s=void 0){var o,m,l,u,p,_,C,k,N,g,E,L,U,Y,G,R,le,W,z,T,$,P,oe,te,Ge,st,ue,ot;if(!a.value)return;const f=a.value.timeFrameRecords?[...a.value.timeFrameRecords]:void 0,h=f==null?void 0:f.reverse(),b=s&&s[0],v=[];if(h){const Re=(m=(o=h[0])==null?void 0:o.timestamp)!=null?m:0,dt=(u=(l=h[h.length-1])==null?void 0:l.timestamp)!=null?u:0,ce=(p=t.value)!=null?p:ie;let de=Re!=null?Re:0,X=b&&n.value?b.d.getTime():dt;v.push({o:(C=(_=h[0])==null?void 0:_.open)!=null?C:0,h:(N=(k=h[0])==null?void 0:k.high)!=null?N:0,l:(E=(g=h[0])==null?void 0:g.low)!=null?E:0,c:(U=(L=h[0])==null?void 0:L.close)!=null?U:0,v:(G=(Y=h[0])==null?void 0:Y.volume)!=null?G:0,d:new Date(de)}),n.value>0&&(X-=ce),n.value===0&&(de+=ce);let fe=1;for(;de<=X;){if(((R=h[fe])==null?void 0:R.timestamp)===de)v.push({o:(W=(le=h[fe])==null?void 0:le.open)!=null?W:0,h:(T=(z=h[fe])==null?void 0:z.high)!=null?T:0,l:(P=($=h[fe])==null?void 0:$.low)!=null?P:0,c:(te=(oe=h[fe])==null?void 0:oe.close)!=null?te:0,v:(st=(Ge=h[fe])==null?void 0:Ge.volume)!=null?st:0,d:new Date((ot=(ue=h[fe])==null?void 0:ue.timestamp)!=null?ot:0)}),fe++;else if(v.length>0){const Ne=v[v.length-1];v.push({o:Ne.c,h:Ne.c,l:Ne.c,c:Ne.c,v:0,d:new Date(de)})}de+=ce}}if(r>0){if(!s)return;e.value=[...v,...s],n.value+=Ye}else e.value=v,n.value+=Ye}return{setCandleDataValues:i}}const ea=t=>(Qa("data-v-76c5ecdb"),t=t(),Ka(),t),ms={class:"container"},ps={class:"header-bar prevent-select"},gs=ea(()=>Q("div",{class:"column items-center q-px-lg"},[Q("div",{class:"col"},"Backend not reachable. Try again later.")],-1)),ws=[gs],ys={key:2,class:"price-row"},bs={key:3,class:"date-row"},ks={key:4,class:"date-row"},xs=ea(()=>Q("div",{class:"timestamps"},[Q("span",{style:{width:"80px"}})],-1)),Cs=[xs],_s=ge({__name:"chart-window",props:{id:null,tickData:null,symbol:null,symbolName:null,broker:null,width:null,height:null,fullWidth:{type:Boolean},fullHeight:{type:Boolean},candlesShow:null,selected:{type:Boolean},offset:null,timeFrame:null,lookbackPeriod:null},emits:["chartClick","resizeDrag","chartWidthHeightChange","update:width","update:height","update:fullWidth","update:fullHeight","update:candlesShow","update:selected","update:offset","update:timeFrame","update:lookbackPeriod"],setup(t,{emit:n}){const e=t;Va(c=>({"15f7f9ea":i.value+"px","6821b449":H(on)+"px","18e0bffa":a.value+"px",c08ee960:m+"px","0b998a6b":l+"px"}));const i=y(e.width),a=y(e.height),r=y(e.fullWidth),s=y(e.fullHeight),f=y(e.candlesShow),h=y(e.selected),b=y(e.offset),v=y(e.timeFrame),o=y(e.lookbackPeriod),m=22,l=23,u=y(),p=y(0),_=y({standardDateFormat:"HH:mm",entries:[]}),{loading:C,error:k,onResult:N,result:g,load:E}=za(An);N(async c=>{!c.data||await st(()=>ot(g,L.value,u.value&&[...u.value]))}),O(()=>e.tickData,()=>{var c;if(e.tickData&&e.tickData.price&&e.tickData.ticker===`${e.symbol}-${e.broker}`&&u.value){const w=e.tickData.price,I=u.value[u.value.length-1];w>I.h?u.value[u.value.length-1].h=w:w<I.l&&(u.value[u.value.length-1].l=w),I.v===0&&(u.value[u.value.length-1].o=w),u.value[u.value.length-1].c=w,u.value[u.value.length-1].v+=(c=e.tickData.volume)!=null?c:0,R.value++}}),Nt(async()=>{f.value===0&&Ee.value&&(f.value=fn(Ee.value)),Re.value=f.value,await U()});const L=y(0);async function U(c=Ye,w=0){L.value=w;const I=yr.includes(v.value)?`${dt.value}5`:`${dt.value}1`,B={symbol:`${e.symbol}-${e.broker}`,timeFrame:I,binAmount:c,...w&&{startShift:w}};E(An,B)}const Y=y(0),G=y(0),R=y(0);hs(u,v,R);const{increaseCandlesShow:le,decreaseCandlesShow:W,candlesInChartData:z,chartH2L:T,chartHigh:$,chartLow:P,dataDatesCandlesInChart:oe,startingDistanceDifference:te}=ls(u,f,b,Y,G,R);O(te,async(c,w)=>{!te.value||c&&c>0&&w&&w>0&&await U(Ye,p.value)});const Ge=F(()=>{var c;return(c=u.value)!=null&&c.length?u.value[u.value.length-1].c:0});async function st(c){!g.value||(c(),await Be(),!(!u.value||!u.value.length)&&gt())}const ue=F(()=>fs(v.value)),{setCandleDataValues:ot}=vs(ue,p,u),Re=y(0),dt=F(()=>v.value.charAt(0)),ce=y(0),de=y(0),X=Dt({x:0,y:0,show:!1}),fe=y(0),Ne=y(!1);let nn=0,an=0;function ta(c){if(!Ae.value)return;let w=c.clientX-Ae.value.getBoundingClientRect().left,I=c.clientY-Ae.value.getBoundingClientRect().top,B=na(w),K=rn(I);B&&(X.x=B),K!==void 0&&(X.y=K),X.x!==0&&(X.show=!0),(X.x<0||X.y<0)&&(X.show=!1),nn=w,an=I}function na(c){let w=de.value,I=ce.value,B=I+w,K=Math.floor(c/B),Ce=K*B+w;return c>Ce?(fe.value=K,Ce+I/2-tt/2):0}function rn(c){if(!Qe.value||!T.value)return;const w=De*(Qe.value/T.value),I=Math.round(c/w)*w;return I===0?.1:I}async function aa(c){if(await Be(),!Ee.value)return;let w=de.value,I=ce.value,B=I+w,K=Math.floor(c/B),Ce=K*B+w,gn=Ce+I/2-tt/2;return fe.value=K,gn>Ee.value?(Ce=Math.floor((c-ce.value)/(I+w))*(I+w)+w,Ce+I/2-tt/2):gn}function ia(){X.show=!1,X.x=0}O(i,()=>{n("update:width",i.value)}),O(()=>e.width,()=>{i.value=e.width}),O(a,()=>{n("update:height",a.value)}),O(()=>e.height,()=>{a.value=e.height}),O(r,()=>{n("update:fullWidth",r.value)}),O(()=>e.fullWidth,()=>{r.value=e.fullWidth}),O(s,()=>{n("update:fullHeight",s.value)}),O(()=>e.fullHeight,()=>{s.value=e.fullHeight}),O(f,async()=>{await Be(),n("update:candlesShow",f.value);let c=await aa(nn),w=rn(an);c&&(X.x=c),w&&(X.y=w),gt()}),O(()=>e.candlesShow,()=>{f.value=e.candlesShow}),O(b,()=>{n("update:offset",b.value)}),O(()=>e.offset,()=>{b.value=e.offset}),O(h,()=>{n("update:selected",h.value)}),O(()=>e.selected,()=>{h.value=e.selected}),O(v,async(c,w)=>{n("update:timeFrame",v.value),c===w||(p.value=0,u.value=void 0,await U(Ye,p.value),c.charAt(0)===w.charAt(0)&&await st(()=>ot(g,L.value,u.value&&[...u.value])),Number(te.value)>0&&await U(Ye,p.value))}),O(()=>e.timeFrame,()=>{v.value=e.timeFrame}),O(o,()=>{n("update:lookbackPeriod",o.value)}),O(()=>e.lookbackPeriod,()=>{o.value=e.lookbackPeriod}),O(u,async(c,w)=>{w||(await Be(),R.value++)}),window.addEventListener("keydown",sn),Jt(()=>{window.removeEventListener("keydown",sn)});const ye=y();Bt("timeFrameSetByUser",ye);const be=y(1);Bt("lookbackNumber",be);const Oe=y(tn);Bt("lookbackPeriodString",Oe);function sn(c){c.target.tagName!=="INPUT"&&(c.key==="x"?mn():c.key==="c"?vn():c.shiftKey&&(c.code==="Digit1"?(je("M1"),ye.value="M1"):c.code==="Digit2"?(je("M5"),ye.value="M5"):c.code==="Digit3"?(je("H1"),ye.value="H1"):c.code==="Digit4"?(je("D1"),ye.value="D1"):c.code==="Digit5"&&(je("W1"),ye.value="W1")))}const{maxChartHeight:on,maxChartWidth:ra}=Zn(),It=y(!1),Ae=y(),ln=y(0),Qe=y(),Ee=y(),ft=y(!1),Lt=y(!1),ht=y(0),vt=y(0);function sa(){ft.value=!1,Lt.value=!1}function oa(c){ft.value=!0,ht.value=c.clientX}function la(c){Lt.value=!0,vt.value=c.clientY}function ua(){ft.value=!1,It.value=!1}const ke=y(0),Ke=y();function ca(){ke.value++,ke.value===1?Ke.value=setTimeout(()=>{ke.value=0},300):ke.value===2&&(clearTimeout(Ke.value),ke.value=0,un())}function da(){ke.value++,ke.value===1?Ke.value=setTimeout(()=>{ke.value=0},300):ke.value===2&&(clearTimeout(Ke.value),ke.value=0,fa())}function un(){Y.value=0,G.value=0}async function fa(){un(),b.value=0,f.value=Re.value,setTimeout(()=>{R.value++},1)}const Ft=y(!1),Pt=y(!1);function mt(c,w){return!T.value||!P.value?1:T.value*(c+w)/T.value}const Rt=F(()=>ce.value&&ce.value>2.8);function ha(c){ft.value&&(c.x>ht.value&&Rt.value?le(pt()):c.x<ht.value&&W(pt()),ht.value=c.x),Lt.value&&(c.y>vt.value?G.value>0?(G.value=mt(G.value,-.005),Pt.value=!0,Ke.value=setTimeout(()=>{Pt.value=!1},1e3)):Pt.value||(Y.value=mt(Y.value,.005)):c.y<vt.value&&(Y.value>0?(Y.value=mt(Y.value,-.005),Ft.value=!0,Ke.value=setTimeout(()=>{Ft.value=!1},1e3)):Ft.value||(G.value=mt(G.value,.005))),vt.value=c.y)}function cn(){var c,w;Ee.value=(c=Ae.value)==null?void 0:c.clientWidth,Qe.value=(w=Ae.value)==null?void 0:w.clientHeight}function pt(){return f.value<15?2:f.value>70?7:f.value>100?16:f.value>150?30:3}function dn(){return f.value<15?1:f.value>70?3:f.value>100?8:f.value>150?15:1}function va(c){const w=Math.atan2(c.deltaY,c.deltaX)*180/Math.PI,I=w<0?360+w:w;(I>=45&&I<=135||I>=225&&I<=315)&&(c.deltaY>0&&Rt.value?le(pt()):c.deltaY<0&&W(pt()))}const xe=Dt({initialPinchDistance:0,currentPinchDistance:0,pinchDistance:0});function ma(c){if(c.touches.length>=2){const w=c.touches[0],I=c.touches[1],B=w.clientX-I.clientX,K=w.clientY-I.clientY;xe.currentPinchDistance=Math.sqrt(B*B+K*K),xe.initialPinchDistance===0&&(xe.initialPinchDistance=xe.currentPinchDistance)}}function pa(c){if(c.touches.length>=2){const w=c.touches[0],I=c.touches[1],B=w.clientX-I.clientX,K=w.clientY-I.clientY,Ce=Math.sqrt(B*B+K*K);Ce>xe.pinchDistance?W(dn()):Ce<xe.pinchDistance&&Rt.value&&le(dn()),xe.pinchDistance=Ce}}function ga(){xe.initialPinchDistance=0,xe.currentPinchDistance=0,xe.pinchDistance=0}function wa(){cn()}function ya(c){ln.value=c.width,c.width&&cn()}async function je(c){v.value!==c&&(v.value=c,setTimeout(()=>{gt()},500))}async function ba(c){o.value=c,ka(o.value)}function ka(c){if(!Ee.value)return;const w=qr[c]/fn(Ee.value),I=On(w,Object.values(Kt)),B=Object.keys(Kt)[I];if(v.value=B,!u.value)return;let K=0;if(!!ue.value){switch(c){case"1day":K=pe/ue.value+Se/ue.value;break;case"1week":K=We/ue.value;break;case"1month":K=_e/ue.value;break;case"1quarter":K=3*_e/ue.value;break;case"1year":K=Pe/ue.value+1;break;case"5year":K=5*Pe/ue.value;break}f.value=Math.ceil(K+1),Re.value=f.value,o.value==="5year"?be.value=5:be.value=1}}function fn(c){if(!c)return 10;const B=c-50;return Math.round(B/br)}function gt(){if(!z.value||!z.value.length)return;const c=z.value[z.value.length-1].d.getTime()-z.value[0].d.getTime();c<Se?(Oe.value="1minute",be.value=Math.round(c/ie*10)/10):c<pe?(Oe.value="1hour",be.value=Math.round(c/Se*10)/10):c<We?(Oe.value="1day",be.value=Math.round(c/pe*10)/10):c<_e?(Oe.value="1week",be.value=Math.round(c/We*10)/10):c<_e*3?(Oe.value="1month",be.value=Math.round(c/_e*10)/10):c<Pe?(Oe.value="1quarter",be.value=Math.round(c/_e/3*10)/10):(Oe.value="1year",be.value=Math.round(c/Pe*10)/10)}O(ye,async()=>{!ye.value||v.value===ye.value||(p.value=0,v.value=ye.value,gt())}),O([Qe,f,b,$,P],async()=>{await Be(),Ht.value=[]});function xa(){s.value=!0,r.value=!0,i.value=ra.value,a.value=on.value,n("chartWidthHeightChange")}function Ca(){s.value=!1,r.value=!1,i.value=500,a.value=500,n("chartWidthHeightChange")}const He=[103,21,9,4];function hn(){const c=e.width/f.value;return He[On(c,He)]}function vn(){const c=He.findIndex(w=>w===hn());c-1>=0&&(f.value=Math.round(e.width/He[c-1]))}function mn(){const c=He.findIndex(w=>w===hn());c+1<He.length&&(f.value=Math.round(e.width/He[c+1]))}const Ht=y([]),pn=y([]);function _a(c){Ht.value.push(c)}function Da(c){pn.value=c}return(c,w)=>{var I;return S(),q("div",{class:at(["chart-wrapper disable-dbl-tap-zoom",{"bg-shadow-primary":h.value,"bg-shadow-secondary":It.value&&!h.value,"full-width-chart":r.value,"normal-width-chart":!r.value,"full-height-chart":s.value,"normal-height-chart":!s.value}]),onMouseup:sa,onMousemove:ha,onMouseleave:ua,onMouseover:w[10]||(w[10]=B=>It.value=!0),onClick:w[11]||(w[11]=B=>{c.$emit("chartClick",t.id),h.value=!0})},[Q("div",ms,[Q("div",{class:"resize-area",onMousedown:w[0]||(w[0]=B=>c.$emit("resizeDrag",!1,!1))},null,32),Q("div",{class:"resize-area-x",onMousedown:w[1]||(w[1]=B=>c.$emit("resizeDrag",!0,!1))},null,32),Q("div",{class:"resize-area-y",onMousedown:w[2]||(w[2]=B=>c.$emit("resizeDrag",!1,!0))},null,32),Q("div",ps,[x(Xr,{timeFrame:v.value,symbolName:t.symbolName,onMaximize:xa,onClose:Ca,onZoomIn:vn,onZoomOut:mn,onSetTimeFrame:je,onSetLookbackPeriod:ba},null,8,["timeFrame","symbolName"])]),!u.value&&H(C)?(S(),q("div",{key:0,class:"price-row flex items-center justify-center",ref_key:"chartRef",ref:Ae},[x(pr,{color:"secondary",size:"xl"})],512)):H(k)&&!u.value?(S(),q("div",{key:1,class:"price-row flex items-center justify-center",ref_key:"chartRef",ref:Ae},ws,512)):(S(),q("div",ys,[Q("div",{class:"chart",ref_key:"chartRef",ref:Ae,onContextmenu:w[9]||(w[9]=Ga(()=>{},["prevent"])),onWheel:va,onTouchstart:ma,onTouchmove:pa,onTouchend:ga,onMousemove:ta,onMouseleave:ia},[x(Nr,{data:H(z),dates:H(oe),candleCount:f.value,h2l:H(T),high:H($),low:H(P),height:Qe.value,width:Ee.value,priceLines:Ht.value,dateLines:pn.value,offset:b.value,startingDistanceDifference:H(te),timeFrame:(I=v.value)!=null?I:H(en),chartUpdateKey:R.value,datePosition:_.value,"onUpdate:datePosition":w[3]||(w[3]=B=>_.value=B),candleWidth:ce.value,"onUpdate:candleWidth":w[4]||(w[4]=B=>ce.value=B),candleDistance:de.value,"onUpdate:candleDistance":w[5]||(w[5]=B=>de.value=B)},null,8,["data","dates","candleCount","h2l","high","low","height","width","priceLines","dateLines","offset","startingDistanceDifference","timeFrame","chartUpdateKey","datePosition","candleWidth","candleDistance"]),X.show?(S(),ae(ds,{key:0,x:X.x,y:X.y},null,8,["x","y"])):re("",!0),b.value<0?(S(),ae(Fe,{key:1,round:"",size:"sm",class:at(["go-to-start-button",{"transparent-primary-background":!Ne.value}]),onMouseover:w[6]||(w[6]=B=>Ne.value=!0),onMouseleave:w[7]||(w[7]=B=>Ne.value=!1),onClick:w[8]||(w[8]=B=>b.value=0),color:"primary",icon:"arrow_forward"},null,8,["class"])):re("",!0)],544),Q("div",{class:"price-axis-wrapper",onMousedown:la,onClick:ca},[x(ts,{currentCandleClose:H(Ge),h2l:H(T),high:H($),low:H(P),height:Qe.value,crossHairY:X.y,badgeShow:X.show,onHorizontalLine:_a},null,8,["currentCandleClose","h2l","high","low","height","crossHairY","badgeShow"]),x(qt,{debounce:0,onResize:ya})],32)])),u.value?(S(),q("div",bs,[Q("div",{class:"timestamps",onMousedown:oa,onClick:da},[x(os,{width:Ee.value,selectedCandleIndex:fe.value,datePosition:_.value,offset:b.value,candleWidth:ce.value,candleDistance:de.value,candlesShow:f.value,badgeShow:X.show,onVerticalLines:Da},null,8,["width","selectedCandleIndex","datePosition","offset","candleWidth","candleDistance","candlesShow","badgeShow"])],32),Q("div",{style:he(`width: ${ln.value}px`)},[x(rs)],4)])):(S(),q("div",ks,Cs))]),x(qt,{debounce:0,onResize:wa})],34)}}});var Ds=we(_s,[["__scopeId","data-v-76c5ecdb"]]);let Ts=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((n,e)=>(e&=63,e<36?n+=e.toString(36):e<62?n+=(e-26).toString(36).toUpperCase():e>62?n+="-":n+="_",n),"");const Es={symbol:"btcusd",symbolName:"vBTC",broker:"perp",network:"optimism",x:0,y:0,width:500,height:500,fullWidth:!0,fullHeight:!0,candlesShow:0,selected:!0,offset:0,timeFrame:en,lookbackPeriod:tn};function Ms(t=Es){const n=Ts();return JSON.parse(`{ "${n}": ${JSON.stringify(t)} }`)}function Ss(){function t(e){document.documentElement.classList.add(e)}function n(e){document.documentElement.classList.remove(e)}return{setCursor:t,removeCursor:n}}const Ns=ze`
  subscription TickData {
    tickData {
      direction
      price
      ticker
      timestamp
      volume
    }
  }
`;const Os={key:0,class:"snap-to-full"},As={key:1,class:"show-shift-key-hint"},Is=ge({__name:"broker-charts",setup(t){window.addEventListener("keydown",_),window.addEventListener("keyup",C),Jt(()=>{window.removeEventListener("keydown",_),window.removeEventListener("keyup",C)});const{maxChartHeight:a,maxChartWidth:r}=Zn(),s=y(),{result:f}=ja(Ns);O(f,()=>{var W,z,T;((z=(W=f.value)==null?void 0:W.tickData)==null?void 0:z.direction)!==null&&(s.value=(T=f.value)==null?void 0:T.tickData)});const{setCursor:h,removeCursor:b}=Ss(),v={...Ms()},o=Dt(v),m=y(Object.keys(o)[0]),l=y(!1),u=y(!1),p=y(!1);function _(W){W.shiftKey?p.value=!0:W.code==="ArrowUp"?o[m.value].candlesShow++:W.code==="ArrowDown"?o[m.value].candlesShow>1&&o[m.value].candlesShow--:W.code==="ArrowRight"?o[m.value].offset<0&&o[m.value].offset++:W.code==="ArrowLeft"&&Ye+o[m.value].offset>1&&o[m.value].offset--}function C(){p.value=!1}function k(W){m.value=W}function N(W,z){l.value=!0,U.value=W,Y.value=z,z&&h("ns-resize")}function g(){l.value=!1,u.value=!1,Y.value&&b("ns-resize"),U.value=!1,Y.value=!1}const E=Dt({x:o[m.value].x+o[m.value].width,y:o[m.value].y+o[m.value].height+Ct});async function L(){await Be(),E.x=o[m.value].x+o[m.value].width,E.y=o[m.value].y+o[m.value].height+Ct}const U=y(!1),Y=y(!1);function G(W){if(!l.value)return;o[m.value].fullWidth&&!Y.value&&(o[m.value].fullWidth=!1),o[m.value].fullHeight&&!U.value&&(o[m.value].fullHeight=!1);let z=0;if(!Y.value){const $=W.x-E.x;z=o[m.value].width+$,z>=300&&z<=r.value&&(o[m.value].width=z,E.x=W.x)}let T=0;if(!U.value){const $=W.y-E.y;T=o[m.value].height+$,T>=300&&T<=a.value&&(o[m.value].height=T,E.y=W.y)}T&&z&&!p.value&&z>r.value-.05*r.value&&T>a.value-.05*a.value?u.value=!0:u.value=!1}function R(){u.value&&!p.value&&(o[m.value].fullHeight=!0,o[m.value].fullWidth=!0),g()}function le(W){!l.value||(W.x>=r.value&&(o[m.value].fullWidth=!0,U.value=!1),W.y>=a.value&&(o[m.value].fullHeight=!0,Y.value=!1),l.value=!1)}return Nt(()=>{o[m.value].fullWidth&&(o[m.value].width=r.value,E.x=r.value),o[m.value].fullHeight&&(o[m.value].height=a.value,E.y=a.value+Ct)}),(W,z)=>(S(),ae(vr,{class:"q-pa-xs",onMouseup:R,onMousemove:G,onMouseleave:le,onKeyup:C,onKeydown:_},{default:A(()=>[(S(!0),q(Me,null,Ze(o,(T,$)=>(S(),ae(Ds,{key:$,id:$,tickData:s.value,broker:T.broker,symbol:T.symbol,symbolName:T.symbolName,width:T.width,"onUpdate:width":P=>T.width=P,height:T.height,"onUpdate:height":P=>T.height=P,fullWidth:T.fullWidth,"onUpdate:fullWidth":P=>T.fullWidth=P,fullHeight:T.fullHeight,"onUpdate:fullHeight":P=>T.fullHeight=P,candlesShow:T.candlesShow,"onUpdate:candlesShow":P=>T.candlesShow=P,selected:T.selected,"onUpdate:selected":P=>T.selected=P,offset:T.offset,"onUpdate:offset":P=>T.offset=P,timeFrame:T.timeFrame,"onUpdate:timeFrame":P=>T.timeFrame=P,lookbackPeriod:T.lookbackPeriod,"onUpdate:lookbackPeriod":P=>T.lookbackPeriod=P,onChartClick:k,onResizeDrag:N,onChartWidthHeightChange:L},null,8,["id","tickData","broker","symbol","symbolName","width","onUpdate:width","height","onUpdate:height","fullWidth","onUpdate:fullWidth","fullHeight","onUpdate:fullHeight","candlesShow","onUpdate:candlesShow","selected","onUpdate:selected","offset","onUpdate:offset","timeFrame","onUpdate:timeFrame","lookbackPeriod","onUpdate:lookbackPeriod"]))),128)),u.value&&!p.value?(S(),q("div",Os)):re("",!0),u.value&&!p.value?(S(),q("div",As," You can hold shift \u21E7 to deactivate Snap Mode ")):re("",!0)]),_:1}))}});var Rs=we(Is,[["__scopeId","data-v-681b4462"]]);export{Rs as default};
